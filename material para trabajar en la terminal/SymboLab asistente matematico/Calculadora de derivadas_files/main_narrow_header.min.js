(function(){function c(){}function g(){}function h(b,k,p){this.init(b,[k],[p||(b&&1<b.length?b.slice(1):b)])}function l(){}function r(b,k,p){arguments.length&&(this.parent=b,this.prev=k||0,this.next=p||0,this.jQinit(this.fold(M(),function(y,D){return D.jQ.add(y)})))}function m(b,k,p,y){function D(){ea=P;var I=N.selection?N.selection.latex():"";X.val(I);I&&(X[0].select?X[0].select():document.selection&&(I=X[0].createTextRange(),I.expand("textedit"),I.select()))}function H(I){N.seek(M(I.target),I.pageX,
I.pageY);if(N.prev!==fa.prev||N.parent!==fa.parent)ba=0,N.selectFrom(fa);return!1}function J(I){delete I.target;return H(I)}function F(I){N.blink=Ka;N.selection||(y?N.show():ka.detach());b.unbind("mousemove",H);M(document).unbind("mousemove",J).unbind("mouseup",F)}function T(){var I=X.val();"$"===I.slice(0,1)&&"$"===I.slice(-1)&&(I=I.slice(1,-1));I=I.replace(/ /g,"#");N.writeLatex(I).show();X.val("")}function ha(){if(!oa){var I=X.val();if(I){X.val("");for(var sa=0;sa<I.length;sa+=1)N.parent.textInput(I.charAt(sa))}else(N.selection||
ea!==P)&&D()}}var Z=b.contents().detach();p||b.addClass("mathquill-rendered-math");k.jQ=b.data("[[mathquill internal data]]",{block:k,revert:function(){b.empty().unbind(".mathquill").removeClass("mathquill-rendered-math mathquill-editable mathquill-textbox").append(Z)}});var N=k.cursor=new ta(k);k.renderLatex(Z.text());var ka=k.textarea=M('<span class="textarea"><textarea></textarea></span>'),X=ka.children(),ea;k.selectionChanged=function(){ea===P&&(ea=setTimeout(D));Aa(b[0])};b.bind("selectstart.mathquill",
function(I){I.target!==X[0]&&I.preventDefault();I.stopPropagation()});var fa=0,Ka=N.blink,Ba,ba=0;b.bind("mousedown.mathquill",function(I){setTimeout(function(){X.focus()});N.blink=M.noop;N.seek(M(I.target),I.pageX,I.pageY);y||b.prepend(ka);ba=N.parent===fa.parent&&N.prev===fa.prev?ba+1:1;clearTimeout(Ba);Ba=setTimeout(function(){ba=0},500);if(3===ba)for(ba=0,N.clearSelection().appendTo(k);N.prev;)N.selectLeft();else 2===ba?N.selectWord():(fa=new r(N.parent,N.prev,N.next),b.mousemove(H),M(document).mousemove(J));
M(document).mouseup(F);return!1});if(y){b.prepend(ka);b.addClass("mathquill-editable");p&&b.addClass("mathquill-textbox");X.focus(function(I){k.hidePlaceholder();N.parent||N.appendTo(k);N.parent.jQ.addClass("hasCursor");N.selection?(N.selection.jQ.removeClass("blur"),setTimeout(k.selectionChanged)):N.show();I.stopPropagation();M(this).trigger("focus.mathquill")}).blur(function(I){N.hide().parent.blur();N.selection&&N.selection.jQ.addClass("blur");k.showPlaceholder();I.stopPropagation();M(this).trigger("blur.mathquill")});
b.bind("focus.mathquill blur.mathquill",function(I){X.trigger(I)}).blur();b.bind("cut",function(I){D();N.selection&&setTimeout(function(){N.deleteSelection();N.redraw()});I.stopPropagation()}).bind("copy",function(I){D();oa=!0;I.stopPropagation()}).bind("paste",function(I){oa=!0;setTimeout(T);I.stopPropagation()});var Ca,ua,Da,oa=!1;b.bind("keydown.mathquill",function(I){Ca=I;ua=!0;!1===N.parent.keydown(I)&&I.preventDefault()}).bind("keypress.mathquill",function(I){if(ua)ua=!1;else{if(Da!==I.which)return;
N.parent.keydown(Ca)}Da=I.which;ea!==P&&clearTimeout(ea);oa=!1;I=navigator.userAgent||navigator.vendor||window.opera;"iOS"===(/android/i.test(I)?"Android":"1"===readCookie("sy.probablyIPad")||/iPad|iPhone|iPod/.test(I)&&!window.MSStream?"iOS":"unknown")?setTimeout(ha,100):setTimeout(ha)})}else{b.bind("cut paste",!1).bind("copy",D).prepend('<span class="selectable"></span>');X.blur(function(){N.clearSelection();setTimeout(I)});function I(){ka.detach()}}}function t(){}function B(b){this.init("$");this.firstChild.cursor=
b;this.firstChild.textInput=function(k){this.skipTextInput||("$"!==k||b.parent!==this?b.write(k):this.isEmpty()?b.insertAfter(this.parent).backspace().insertNew(new u("\\$","$")).show():b.next?b.prev?b.write(k):b.insertBefore(this.parent):b.insertAfter(this.parent))}}function d(){}function f(b,k){k.prototype=b.prototype;return k}function a(b){var k=Array.prototype.slice.call(arguments,1);return f(b,function(){b.apply(this,Array.prototype.concat.apply(k,arguments))})}function n(b,k,p){this.init(b,
[k],P,p)}function w(b,k,p){this.init(b,['<span class="diacritic"><span class="diacritic-char">'+k+"&nbsp;</span></span>","<span></span>"],P,p)}function x(b,k,p,y,D){this.stretchFactor=y;this.init(b,['<span class="diacritic"><span class="'+k+'">'+p+"&nbsp;</span></span>","<span></span>"],P,D)}function v(b,k,p,y){this.init(b,[k],[p],y)}function G(b){this.init("\\frac",P,P,b);this.jQ.append('<span style="display:inline-block;width:0">&nbsp;</span>')}function E(){G.apply(this,arguments)}function A(b){this.init("\\sqrt",
P,P,b)}function O(b){this.init("\\longdivision",P,P,b)}function U(b){A.call(this,b);this.jQ=this.firstChild.jQ.detach().add(this.jQ)}function z(b,k,p,y,D){this.init("\\left"+p,['<span class="block"><span class="paren">'+b+'</span><span class="block"></span><span class="paren">'+k+"</span></span>"],[b,k],D);this.end="\\right"+y}function C(b,k,p,y,D){z.apply(this,arguments)}function K(b,k,p){z.call(this,b,k,b,k,p)}function Q(b,k,p){C.call(this,b,k,b,k,p)}function R(b){K.call(this,"|","|",b)}function S(b){b instanceof
r?this.replacedText=b.remove().jQ.text():"string"===typeof b&&(this.replacedText=b);this.init()}function ca(){}function Y(b,k){function p(){S.apply(this,arguments)}q=p.prototype=new S;q.cmd=b;q.html_template=[k];return p}function pa(b){this.init("\\");b&&(this.replacedFragment=b.detach(),this.isEmpty=function(){return!1})}function va(b){this.init("\\twostack",P,P,b);this.jQ.wrapInner('<span class="array"></span>');this.blockjQ=this.jQ.children()}function qa(b){this.init("\\binom",P,P,b);this.jQ.wrapInner('<span class="array"></span>');
this.blockjQ=this.jQ.children();this.bracketjQs=M('<span class="paren">(</span>').prependTo(this.jQ).add(M('<span class="paren">)</span>').appendTo(this.jQ))}function Ea(){qa.apply(this,arguments)}function Fa(b){this.init("\\vector",P,P,b)}function wa(b,k,p,y){this.rows=p;this.cols=y;this.init("\\matrix",P,P,b);this.envName="matrix"}function Ga(){}function ia(b,k,p){function y(D,H,J,F){this.rows=J;this.cols=F;this.init("\\"+b,P,P,D);this.envName=b;D=this.blockjQ=this.tablejQ;this.bracketjQs=D.prev().add(D.next())}
q=y.prototype=new Ga;q.html_template=['<span class="block"><span class="paren">'+k+'</span><table class="matrix"></table><span class="paren">'+p+"</span></span>"];q.initBlocks=function(D){this.tablejQ=this.jQ.find("table");this.initMatrix(D)};q.redraw=z.prototype.redraw;e[b]=y}function V(b,k){h.call(this,b,"<var>"+(k||b)+"</var>")}function u(b,k){h.call(this,b,"<span>"+(k||b)+"</span>")}function xa(b,k){h.call(this,b,"<span>"+(k||b)+"</span>")}function Ha(){u.call(this,"\\:"," ")}function ja(b,k){h.call(this,
b,'<span class="nonSymbola">'+(k||b)+"</span>")}function L(b,k,p){h.call(this,b,'<span class="binary-operator">'+k+"</span>",p)}function la(b,k){u.apply(this,arguments)}function aa(b,k){h.call(this,b,"<big>"+k+"</big>")}function ra(b,k){h.call(this,"\\"+k+" ","<span>"+k+"</span>")}function ta(b){this.parent=this.root=b;var k=this.jQ=this._jQ=M('<span class="cursor">&#8203;</span>');this.blink=function(){k.toggleClass("blink")}}function ma(b,k,p){r.apply(this,arguments)}var M=jQuery,P,na=Math.min,
ya=Math.max;var q=c.prototype;q.prev=0;q.next=0;q.parent=0;q.firstChild=0;q.lastChild=0;q.eachChild=function(b){for(var k=this.firstChild;k&&!1!==b.call(this,k);k=k.next);return this};q.foldChildren=function(b,k){this.eachChild(function(p){b=k.call(this,b,p)});return b};q.keydown=function(b){return this.parent.keydown(b)};q.textInput=function(b){return this.parent.textInput(b)};q=g.prototype=new c;q.init=function(b,k,p,y){b&&(this.cmd=b);k&&(this.html_template=k);p&&(this.text_template=p);this.jQ=
M(this.html_template[0]).data("[[mathquill internal data]]",{cmd:this});this.initBlocks(y)};q.initBlocks=function(b){if(1===this.html_template.length)this.firstChild=this.lastChild=this.jQ.data("[[mathquill internal data]]").block=b&&b.blockify()||new l,this.firstChild.parent=this,this.firstChild.jQ=this.jQ.append(this.firstChild.jQ);else{var k,p=this.html_template.length;this.firstChild=b=k=b&&b.blockify()||new l;b.parent=this;b.jQ=M(this.html_template[1]).data("[[mathquill internal data]]",{block:b}).append(b.jQ).appendTo(this.jQ);
b.blur();for(var y=2;y<p;y+=1)b=new l,b.parent=this,b.prev=k,k=k.next=b,b.jQ=M(this.html_template[y]).data("[[mathquill internal data]]",{block:b}).appendTo(this.jQ),b.blur();this.lastChild=b}};q.latex=function(){return this.foldChildren(this.cmd,function(b,k){return b+"{"+(k.latex()||" ")+"}"})};q.text_template=[""];q.text=function(){var b=0;return this.foldChildren(this.text_template[b],function(k,p){b+=1;var y=p.text();return k&&"("===this.text_template[b]&&"("===y[0]&&")"===y.slice(-1)?k+y.slice(1,
-1)+this.text_template[b]:k+p.text()+(this.text_template[b]||"")})};q.insertAt=function(b){this.parent=b.parent;this.next=b.next;(this.prev=b.prev)?b.prev.next=this:b.parent.firstChild=this;b.next?b.next.prev=this:b.parent.lastChild=this;b.prev=this;this.jQ.insertBefore(b.jQ);this.respace();this.next&&this.next.respace();this.prev&&this.prev.respace();this.placeCursor(b);b.redraw();if("\\matrixmid "==this.cmd){for(b=this.parent;b&&"\\left("!=b.cmd;)b=b.parent;b&&(b=b.blockjQ.outerHeight()/+b.blockjQ.css("fontSize").slice(0,
-2),da(this.jQ,na(1+.2*(b-1),1.2),.98*b),this.jQ.addClass("paren"))}};q.respace=M.noop;q.placeCursor=function(b){b.appendTo(this.foldChildren(this.firstChild,function(k,p){return k.isEmpty()?k:p}))};q.precedence=0;q.isEmpty=function(){return this.foldChildren(!0,function(b,k){return b&&k.isEmpty()})};q.remove=function(){var b=this.prev,k=this.next,p=this.parent;b?b.next=k:p.firstChild=k;k?k.prev=b:p.lastChild=b;this.jQ.remove();return this};q=h.prototype=new g;q.initBlocks=M.noop;q.latex=function(){return this.cmd};
q.text=function(){return this.text_template};q.placeCursor=M.noop;q.isEmpty=function(){return!0};q=l.prototype=new c;q.latex=function(){return this.foldChildren("",function(b,k){return b+k.latex()})};q.text=function(){return this.firstChild===this.lastChild?this.firstChild.text():this.foldChildren("(",function(b,k){return b+k.text()})+")"};q.isEmpty=function(){return 0===this.firstChild&&0===this.lastChild};q.focus=function(){this.jQ.addClass("hasCursor");this.isEmpty()&&this.jQ.removeClass("empty");
return this};q.blur=function(){this.jQ.removeClass("hasCursor");this.isEmpty()&&this.jQ.addClass("empty");return this};q=r.prototype;q.remove=g.prototype.remove;q.jQinit=function(b){this.jQ=b};q.each=function(b){for(var k=this.prev.next||this.parent.firstChild;k!==this.next&&!1!==b.call(this,k);k=k.next);return this};q.fold=function(b,k){this.each(function(p){b=k.call(this,b,p)});return b};q.latex=function(){return this.fold("",function(b,k){return b+k.latex()})};q.blockify=function(){var b=this.prev,
k=this.next,p=this.parent,y=new l,D=y.firstChild=b.next||p.firstChild,H=y.lastChild=k.prev||p.lastChild;b?b.next=k:p.firstChild=k;k?k.prev=b:p.lastChild=b;D.prev=this.prev=0;H.next=this.next=0;this.parent=y;this.each(function(J){J.parent=y});y.jQ=this.jQ;return y};q=t.prototype=new l;q.latex=function(){return l.prototype.latex.call(this).replace(/(\\[a-z]+) (?![a-z])/ig,"$1")};q.text=function(){return this.foldChildren("",function(b,k){return b+k.text()})};q.renderLatex=function(b){this.jQ.children().slice(1).remove();
this.firstChild=this.lastChild=0;this.cursor.appendTo(this).writeLatex(b);this.blur()};q.setPlaceholder=function(b){this.placeholder=b};q.showPlaceholder=function(){this.placeholder&&this.isEmpty()&&(this.cursor.writeLatex(this.placeholder),this.blur(),this.firstChild=this.lastChild=0,this.jQ.addClass("placeholder"))};q.hidePlaceholder=function(){this.placeholder&&this.isEmpty()&&(this.jQ.removeClass("placeholder").children().slice(1).remove(),this.cursor.appendTo(this))};q.keydown=function(b){b.ctrlKey=
b.ctrlKey||b.metaKey;switch(b.originalEvent&&b.originalEvent.keyIdentifier||b.which){case 8:case "Backspace":case "U+0008":if(b.ctrlKey)for(;this.cursor.prev||this.cursor.selection;)this.cursor.backspace();else this.cursor.backspace();break;case 27:case "Esc":case "U+001B":case 9:case "Tab":case "U+0009":if(b.ctrlKey)break;var k=this.cursor.parent;if(b.shiftKey){if(k===this.cursor.root)return this.skipTextInput=!0;k.prev?this.cursor.appendTo(k.prev):this.cursor.insertBefore(k.parent)}else{if(k===
this.cursor.root)return this.skipTextInput=!0;k.next?this.cursor.prependTo(k.next):this.cursor.insertAfter(k.parent)}this.cursor.clearSelection();break;case 13:case "Enter":return this.skipTextInput=!0;case 35:case "End":if(b.shiftKey)for(;this.cursor.next||b.ctrlKey&&this.cursor.parent!==this;)this.cursor.selectRight();else this.cursor.clearSelection().appendTo(b.ctrlKey?this:this.cursor.parent);break;case 36:case "Home":if(b.shiftKey)for(;this.cursor.prev||b.ctrlKey&&this.cursor.parent!==this;)this.cursor.selectLeft();
else this.cursor.clearSelection().prependTo(b.ctrlKey?this:this.cursor.parent);break;case 37:case "Left":if(b.ctrlKey&&this.cursor.prev){for(k=b.shiftKey?"selectLeft":"hopLeft";this.cursor.prev&&0!==this.cursor.prev.precedence;)this.cursor[k]();for(;this.cursor.prev&&0===this.cursor.prev.precedence;)this.cursor[k]();b.shiftKey||this.cursor.show();break}b.shiftKey?this.cursor.selectLeft():this.cursor.moveLeft();break;case 38:case "Up":if(b.ctrlKey)break;if(b.shiftKey)if(this.cursor.prev)for(;this.cursor.prev;)this.cursor.selectLeft();
else this.cursor.selectLeft();else this.cursor.parent.prev?this.cursor.clearSelection().appendTo(this.cursor.parent.prev):this.cursor.prev?this.cursor.clearSelection().prependTo(this.cursor.parent):this.cursor.parent!==this&&this.cursor.clearSelection().insertBefore(this.cursor.parent.parent);break;case 39:case "Right":if(b.ctrlKey&&this.cursor.next){for(k=b.shiftKey?"selectRight":"hopRight";this.cursor.next&&0===this.cursor.next.precedence;)this.cursor[k]();for(;this.cursor.next&&0!==this.cursor.next.precedence;)this.cursor[k]();
b.shiftKey||this.cursor.show();break}b.shiftKey?this.cursor.selectRight():this.cursor.moveRight();break;case 40:case "Down":if(b.ctrlKey)break;if(b.shiftKey)if(this.cursor.next)for(;this.cursor.next;)this.cursor.selectRight();else this.cursor.selectRight();else this.cursor.parent.next?this.cursor.clearSelection().prependTo(this.cursor.parent.next):this.cursor.next?this.cursor.clearSelection().appendTo(this.cursor.parent):this.cursor.parent!==this&&this.cursor.clearSelection().insertAfter(this.cursor.parent.parent);
break;case 46:case "Del":case "U+007F":if(b.ctrlKey)for(;this.cursor.next||this.cursor.selection;)this.cursor.deleteForward();else this.cursor.deleteForward();break;case 65:case "A":case "U+0041":if(b.ctrlKey&&!b.shiftKey&&!b.altKey){if(this!==this.cursor.root)return this.parent.keydown(b);for(this.cursor.clearSelection().appendTo(this);this.cursor.prev;)this.cursor.selectLeft();break}default:return this.skipTextInput=!1,!0}this.skipTextInput=!0;return!1};q.textInput=function(b){this.skipTextInput||
this.cursor.write(b)};q=B.prototype=new g;q.html_template=['<span class="mathquill-rendered-math"></span>'];q.initBlocks=function(){this.firstChild=this.lastChild=this.jQ.data("[[mathquill internal data]]").block=new t;this.firstChild.parent=this;this.firstChild.jQ=this.jQ};q.latex=function(){return"$"+this.firstChild.latex()+"$"};q=d.prototype=new l;q.renderLatex=function(b){var k=this.cursor;this.jQ.children().slice(1).remove();this.firstChild=this.lastChild=0;k.show().appendTo(this);b=b.match(/(?:\\\$|[^$])+|\$(?:\\\$|[^$])*\$|\$(?:\\\$|[^$])*$/g)||
"";for(var p=0;p<b.length;p+=1){var y=b[p];if("$"===y[0]){y="$"===y[-1+y.length]&&"\\"!==y[-2+y.length]?y.slice(1,-1):y.slice(1);var D=new B(k);k.insertNew(D);D.firstChild.renderLatex(y);k.show().insertAfter(D)}else for(D=0;D<y.length;D+=1)this.cursor.insertNew(new u(y[D]))}};q.keydown=t.prototype.keydown;q.textInput=function(b){this.skipTextInput||(this.cursor.deleteSelection(),"$"===b?this.cursor.insertNew(new B(this.cursor)):this.cursor.insertNew(new u(b)))};var W={},e={},Aa=M.noop,Ia=document.createElement("div").style,
La={transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1},za;for(za in La)if(za in Ia){var Ja=za;break}if(Ja)var da=function(b,k,p){b.css(Ja,"scale("+k+","+p+")")};else"filter"in Ia?(Aa=function(b){b.className=b.className},da=function(b,k,p){function y(){b.css("marginRight",(1+F.width()*(J-1))/J+"px")}var D=p>k?"M11=":"M22=",H=ya(k,p),J=na(k,p);J/=1+(H-1)/2;0===b.children().length&&b.wrapInner("<span></span>");b.addClass("matrixed").css({fontSize:H+"em",marginTop:"-.175em"});var F=
b.children().css({filter:"progid:DXImageTransform.Microsoft.Matrix("+D+J+",SizingMethod='auto expand')"});y();var T=setInterval(y);M(window).load(function(){clearTimeout(T);y()})}):da=function(b,k,p){b.css("fontSize",ya(k,p)+"em")};f(g,n);e.mathrm=a(n,"\\mathrm",'<span class="roman font"></span>');e.mathit=a(n,"\\mathit",'<i class="font"></i>');e.mathbf=a(n,"\\mathbf",'<b class="font"></b>');e.mathsf=a(n,"\\mathsf",'<span class="sans-serif font"></span>');e.mathtt=a(n,"\\mathtt",'<span class="monospace font"></span>');
e.underline=a(n,"\\underline",'<span class="underline"></span>');q=w.prototype=new g;q.redraw=q._redraw=function(){var b=!this.firstChild.isEmpty();this.firstChild.eachChild(function(y){return b=b&&y.cmd in{a:1,c:1,e:1,g:1,m:1,n:1,o:1,p:1,q:1,r:1,s:1,u:1,v:1,w:1,x:1,y:1,z:1}});this.jQ.children(":first").toggleClass("lowercase",b);var k=!b&&this.firstChild.firstChild===this.lastChild.lastChild&&"t"===this.firstChild.firstChild.cmd;this.jQ.children(":first").toggleClass("only-lowercase-t",k);if(b)p=
!0;else{var p=!0;this.firstChild.eachChild(function(y){return p=p&&y instanceof h&&!(y instanceof aa)})}this.jQ.toggleClass("block",!p)};M.browser.webkit&&(q.redraw=function(){this._redraw();this.webkitForceRedrawToggle=!this.webkitForceRedrawToggle;this.jQ.children(":first").css("display",this.webkitForceRedrawToggle?"inline-block":"")});e.grave=a(w,"\\grave","&#768;");e.acute=a(w,"\\acute","&#769;");e.hat=e.circumflex=a(w,"\\hat","&#770;");e.tilde=a(w,"\\tilde","&#771;");e.bar=a(w,"\\bar","&#773;");
e.breve=a(w,"\\breve","&#774;");e.dot=a(w,"\\dot","&#775;");e.ddot=a(w,"\\ddot","&#776;");e.check=e.caron=a(w,"\\ddot","&#780;");e.dddot=a(w,"\\dddot","&#8411;");e.ddddot=a(w,"\\ddddot","&#8412;");e.vec=a(w,"\\vec","&#8407;");e.overline=f(w,function(b){this.init("\\overline",['<span class="diacritic"><span class="overline"></span></span>'],P,b)});q=x.prototype=new w;q.redraw=function(){this._redraw();var b=ya(1,this.stretchFactor*this.jQ.innerWidth()/+this.jQ.css("fontSize").slice(0,-2));da(this.jQ.children(":first"),
b,1.2)};e.widehat=a(x,"\\widehat","widehat","&#770;",2.95);e.overleftarrow=a(x,"\\overleftarrow","overarrow","&#8406;",2);e.overrightarrow=a(x,"\\overrightarrow","overarrow","&#8407;",2);e.overarc=a(x,"\\overarc","overarc","&#x25E0;",1.5);q=v.prototype=new g;q.latex=function(){var b=this.firstChild.latex();return 1===b.length?this.cmd+b:this.cmd+"{"+(b||" ")+"}"};q.redraw=function(){this.prev&&this.prev.respace();this.prev instanceof v||(this.respace(),!this.next||this.next instanceof v||this.next.respace())};
q.respace=function(){"\\int "===this.prev.cmd||this.prev instanceof v&&this.prev.cmd!=this.cmd&&this.prev.prev&&"\\int "===this.prev.prev.cmd?this.limit||(this.limit=!0,this.jQ.addClass("limit")):this.limit&&(this.limit=!1,this.jQ.removeClass("limit"));if(this.respaced=this.prev instanceof v&&this.prev.cmd!=this.cmd&&!this.prev.respaced){var b=+this.jQ.css("fontSize").slice(0,-2),k=this.prev.jQ.outerWidth();thisWidth=this.jQ.outerWidth();"_"===this.cmd&&"^"===this.prev.cmd&&"\\left["===this.prev.prev.cmd?
this.jQ.css({left:(this.limit&&"_"===this.cmd?-.25:0)-k/b+"em",marginRight:"",verticalAlign:"-0.8em"}):this.jQ.css({left:(this.limit&&"_"===this.cmd?-.25:0)-k/b+"em",marginRight:.1-na(thisWidth,k)/b+"em"})}else"\\left["===this.prev.cmd&&"_"===this.cmd?this.jQ.css({marginRight:"",verticalAlign:"-0.8em"}):this.limit&&"_"===this.cmd?this.jQ.css({left:"-.25em",marginRight:""}):this.jQ.css({left:"",marginRight:""});this.prev instanceof aa&&(this.precedence=this.prev.precedence);this.respaced&&this.prev.prev instanceof
aa?this.precedence=this.prev.prev.precedence:delete this.precedence;this.next instanceof v&&this.next.respace();return this};e.subscript=e._=f(v,function(b){this.init("_",["<sub></sub>"],["_"],b)});e.superscript=e.supscript=e["^"]=f(v,function(b){this.init("^",["<sup></sup>"],["**"],b)});q=G.prototype=new g;q.html_template=['<span class="fraction"></span>','<span class="numerator"></span>','<span class="denominator"></span>'];q.text_template=["(","/",")"];e.frac=e.dfrac=e.cfrac=e.fraction=G;q=E.prototype=
new G;q.placeCursor=function(b){if(this.firstChild.isEmpty()){for(var k=this.prev;k&&0===k.precedence&&"\\int "!=k.cmd&&"\\lim "!=k.cmd&&"\\sum "!=k.cmd&&","!=k.cmd&&"^"!=k.cmd&&"_"!=k.cmd;)k=k.prev;k!==this.prev?(k=(new r(this.parent,k,this)).blockify(),k.jQ=this.firstChild.jQ.empty().removeClass("empty").append(k.jQ).data("[[mathquill internal data]]",{block:k}),k.next=this.lastChild,k.parent=this,this.firstChild=this.lastChild.prev=k,b.appendTo(this.lastChild)):b.appendTo(this.firstChild)}else b.appendTo(this.lastChild)};
e.over=W["/"]=E;q=A.prototype=new g;q.html_template=['<span class="block"><span class="sqrt-prefix">&radic;</span></span>','<span class="sqrt-stem"></span>'];q.text_template=["sqrt(",")"];q.redraw=function(){var b=this.lastChild.jQ;da(b.prev(),1,b.innerHeight()/+b.css("fontSize").slice(0,-2)-.1)};e.sqrt=e["\u221a"]=A;q=O.prototype=new g;q.html_template=['<span class="block"><span class="sqrt-prefix longdivision">|</span></span>','<span class="sqrt-stem"></span>'];q.text_template=["longdivision(",
")"];e.longdivision=O;q=U.prototype=new A;q.html_template=['<span class="block"><span class="sqrt-prefix">&radic;</span></span>','<sup class="nthroot"></sup>','<span class="sqrt-stem"></span>'];q.text_template=["sqrt[","](",")"];q.latex=function(){return"\\sqrt["+this.firstChild.latex()+"]{"+this.lastChild.latex()+"}"};e.nthroot=U;q=z.prototype=new g;q.initBlocks=function(b){this.firstChild=this.lastChild=b&&b.blockify()||new l;this.firstChild.parent=this;this.firstChild.jQ=this.jQ.children(":eq(1)").data("[[mathquill internal data]]",
{block:this.firstChild}).append(this.firstChild.jQ);b=this.blockjQ=this.firstChild.jQ;this.bracketjQs=b.prev().add(b.next())};q.latex=function(){return this.cmd+this.firstChild.latex()+this.end};q.redraw=function(){var b=this.blockjQ.outerHeight()/+this.blockjQ.css("fontSize").slice(0,-2);da(this.bracketjQs,na(1+.2*(b-1),1.2),1.05*b)};e.lbrace=W["{"]=f(z,function(b){z.call(this,"{","}","\\{","\\}",b)});e.langle=e.lang=f(z,function(b){z.call(this,"&lang;","&rang;","\\langle ","\\rangle ",b)});q=C.prototype=
new z;q.placeCursor=function(b){!this.next&&this.parent.parent&&this.parent.parent.end===this.end&&this.firstChild.isEmpty()?b.backspace().insertAfter(this.parent.parent):(this.firstChild.blur(),this.redraw())};e.rbrace=W["}"]=f(C,function(b){C.call(this,"{","}","\\{","\\}",b)});e.rangle=e.rang=f(C,function(b){C.call(this,"&lang;","&rang;","\\langle ","\\rangle ",b)});K.prototype=z.prototype;e.lparen=W["("]=f(K,function(b){K.call(this,"(",")",b)});e.lbrack=e.lbracket=W["["]=f(K,function(b){K.call(this,
"[","]",b)});Q.prototype=C.prototype;e.rparen=W[")"]=f(Q,function(b){Q.call(this,"(",")",b)});e.rbrack=e.rbracket=W["]"]=f(Q,function(b){Q.call(this,"[","]",b)});q=R.prototype=new K;q.placeCursor=function(b){!this.next&&this.parent.parent&&this.parent.parent.end===this.end&&this.firstChild.isEmpty()?b.backspace().insertAfter(this.parent.parent):b.appendTo(this.firstChild)};e.lpipe=e.rpipe=W["|"]=R;q=S.prototype=new g;q.cmd="\\text";q.html_template=['<span class="text"></span>'];q.text_template=['"',
'"'];q.precedence=.25;q.initBlocks=function(){this.firstChild=this.lastChild=this.jQ.data("[[mathquill internal data]]").block=new ca;this.firstChild.parent=this;this.firstChild.jQ=this.jQ.append(this.firstChild.jQ)};q.placeCursor=function(b){(this.cursor=b).appendTo(this.firstChild);if(this.replacedText)for(b=0;b<this.replacedText.length;b+=1)this.write(this.replacedText.charAt(b))};q.write=function(b){this.cursor.insertNew(new u(b))};q.keydown=function(b){return this.cursor.selection||(8!==b.which||
this.cursor.prev)&&(46!==b.which||this.cursor.next)?this.parent.keydown(b):(this.isEmpty()&&this.cursor.insertAfter(this),!1)};q.textInput=function(b){this.cursor.deleteSelection();"$"!==b?this.write(b):this.isEmpty()?this.cursor.insertAfter(this).backspace().insertNew(new u("\\$","$")):this.cursor.next?this.cursor.prev?(b=new S(new r(this.firstChild,this.cursor.prev)),b.placeCursor=function(k){this.prev=0;delete this.placeCursor;this.placeCursor(k)},b.firstChild.focus=function(){return this},this.cursor.insertAfter(this).insertNew(b),
b.prev=this,this.cursor.insertBefore(b),delete b.firstChild.focus):this.cursor.insertBefore(this):this.cursor.insertAfter(this)};q=ca.prototype=new l;q.blur=function(){this.jQ.removeClass("hasCursor");if(this.isEmpty()){var b=this.parent,k=b.cursor;k.parent===this?this.jQ.addClass("empty"):(k.hide(),b.remove(),k.next===b?k.next=b.next:k.prev===b&&(k.prev=b.prev),k.show().redraw())}return this};q.focus=function(){l.prototype.focus.call(this);var b=this.parent;if(b.next.cmd===b.cmd){var k=this,p=b.cursor;
b=b.next.firstChild;b.eachChild(function(y){y.parent=k;y.jQ.appendTo(k.jQ)});this.lastChild?this.lastChild.next=b.firstChild:this.firstChild=b.firstChild;b.firstChild.prev=this.lastChild;this.lastChild=b.lastChild;b.parent.remove();p.prev?p.insertAfter(p.prev):p.prependTo(this);p.redraw()}else b.prev.cmd===b.cmd&&(p=b.cursor,p.prev?b.prev.firstChild.focus():p.appendTo(b.prev.firstChild));return this};W.$=e.text=e.textnormal=e.textrm=e.textup=e.textmd=S;e.em=e.italic=e.italics=e.emph=e.textit=e.textsl=
Y("\\textit",'<i class="text"></i>');e.strong=e.bold=e.textbf=Y("\\textbf",'<b class="text"></b>');e.sf=e.textsf=Y("\\textsf",'<span class="sans-serif text"></span>');e.tt=e.texttt=Y("\\texttt",'<span class="monospace text"></span>');e.textsc=Y("\\textsc",'<span style="font-variant:small-caps" class="text"></span>');e.uppercase=Y("\\uppercase",'<span style="text-transform:uppercase" class="text"></span>');e.lowercase=Y("\\lowercase",'<span style="text-transform:lowercase" class="text"></span>');e.linethrough=
Y("\\linethrough",'<span style="text-decoration:line-through red" class="text"></span>');q=pa.prototype=new g;q.html_template=['<span class="latex-command-input">\\</span>'];q.text_template=["\\"];q.placeCursor=function(b){this.cursor=b.appendTo(this.firstChild);this.replacedFragment&&(this.jQ=this.jQ.add(this.replacedFragment.jQ.addClass("blur").bind("mousedown mousemove",function(k){M(k.target=this.nextSibling).trigger(k);return!1}).insertBefore(this.jQ)))};q.latex=function(){return"\\"+this.firstChild.latex()+
" "};q.keydown=function(b){return 9===b.which||13===b.which?(this.renderCommand(),!1):this.parent.keydown(b)};q.textInput=function(b){b.match(/[a-z]/i)?(this.cursor.deleteSelection(),this.cursor.insertNew(new u(b))):(this.renderCommand()," "===b||"\\"===b&&this.firstChild.isEmpty()||this.cursor.parent.textInput(b))};q.renderCommand=function(){this.jQ=this.jQ.last();this.remove();this.next?this.cursor.insertBefore(this.next):this.cursor.appendTo(this.parent);var b=this.firstChild.latex();b?this.cursor.insertCmd(b,
this.replacedFragment):(b=new u("\\backslash ","\\"),this.cursor.insertNew(b),this.replacedFragment&&this.replacedFragment.remove())};W["\\"]=pa;q=va.prototype=new g;q.html_template=['<span class="block"></span>',"<span></span>","<span></span>"];q.text_template=["twostack(",",",")"];q.redraw=va.prototype.redraw;e.twostack=va;q=qa.prototype=new g;q.html_template=['<span class="block"></span>',"<span></span>","<span></span>"];q.text_template=["choose(",",",")"];q.redraw=z.prototype.redraw;e.binom=e.binomial=
qa;q=Ea.prototype=new qa;q.placeCursor=E.prototype.placeCursor;e.choose=Ea;q=Fa.prototype=new g;q.html_template=['<span class="array"></span>',"<span></span>"];q.latex=function(){return"\\begin{matrix}"+this.foldChildren([],function(b,k){b.push(k.latex());return b}).join("\\\\ ")+"\\end{matrix}"};q.text=function(){return"["+this.foldChildren([],function(b,k){b.push(k.text());return b}).join()+"]"};q.placeCursor=function(b){this.cursor=b.appendTo(this.firstChild)};q.keydown=function(b){var k=this.cursor.parent;
if(k.parent===this){if(13===b.which)return b=new l,b.parent=this,b.jQ=M("<span></span>").data("[[mathquill internal data]]",{block:b}).insertAfter(k.jQ),k.next?k.next.prev=b:this.lastChild=b,b.next=k.next,k.next=b,b.prev=k,this.cursor.appendTo(b).redraw(),!1;if(9===b.which&&!b.shiftKey&&!k.next){if(k.isEmpty())return k.prev?(this.cursor.insertAfter(this),delete k.prev.next,this.lastChild=k.prev,k.jQ.remove(),this.cursor.redraw(),!1):this.parent.keydown(b);b=new l;b.parent=this;b.jQ=M("<span></span>").data("[[mathquill internal data]]",
{block:b}).appendTo(this.jQ);this.lastChild=b;k.next=b;b.prev=k;this.cursor.appendTo(b).redraw();return!1}if(8===b.which){if(k.isEmpty())return k.prev?(this.cursor.appendTo(k.prev),k.prev.next=k.next):(this.cursor.insertBefore(this),this.firstChild=k.next),k.next?k.next.prev=k.prev:this.lastChild=k.prev,k.jQ.remove(),this.isEmpty()?this.cursor.deleteForward():this.cursor.redraw(),!1;if(!this.cursor.prev)return!1}}return this.parent.keydown(b)};e.vector=Fa;q=wa.prototype=new g;q.html_template=['<table class="matrix"/>'];
q.initBlocks=function(b){this.tablejQ=this.jQ;this.initMatrix(b)};q.initMatrix=function(b){if(this.rows===P){do{var k=prompt('Please enter the number of rows and columns in the NxM format.\nFor example, for a 2x3 matrix, please enter "2x3" (without quotes):').split(/[x ,]/);if(2===k.length)var p=parseInt(k[0]),y=parseInt(k[1])}while(!(0<p&&0<y))}else p=this.rows,y=this.cols;var D;k=0;this.matrix=[];for(var H=0;H<p;H+=1){var J=[];this.matrix.push(J);for(var F=J.jQ=M("<tr/>").appendTo(this.tablejQ),
T=0;T<y;T+=1)0===H&&0===T?this.firstChild=D=b&&b.blockify()||new l:D=new l,D.parent=this,D.prev=k,k=k.next=D,D.row=H,D.col=T,D.jQ=M("<td/>").data("[[mathquill internal data]]",{block:D}).append(D.jQ).appendTo(F),J.push(D),D.blur()}this.lastChild=k};q.latex=function(){for(var b=[],k=0;k<this.matrix.length;k+=1){for(var p=[],y=this.matrix[k],D=0;D<y.length;D+=1)p.push(y[D].latex());b.push(p.join("&"))}return["\\begin{"+this.envName+"}",b.join("\\\\ "),"\\end{"+this.envName+"}"].join("")};q.text=function(){for(var b=
[],k=0;k<this.matrix.length;k+=1){for(var p=[],y=this.matrix[k],D=0;D<y.length;D+=1)p.push(y[D].text());b.push(p.join(", "))}return"[\n ["+b.join("],\n [")+"]\n]"};q.placeCursor=function(b){this.cursor=b.appendTo(this.firstChild)};q.keydown=function(b){var k=this.cursor.parent;if(k.parent===this)if(8===b.which){if(!this.cursor.prev&&!this.cursor.selection)return!1}else if(46===b.which){if(!this.cursor.prev&&!this.cursor.selection)return!1}else if(/^13|38|40$/.test(b.which)){var p=k.row;k=k.col;(13===
b.which?b.shiftKey:38===b.which)?0<p&&this.cursor.appendTo(this.matrix[p-1][k]):p<this.matrix.length-1&&this.cursor.prependTo(this.matrix[p+1][k])}return this.parent.keydown(b)};q.textInput=function(b){if("\t"!==b&&"\n"!==b)return this.parent.textInput(b)};e.smallmatrix=e.matrix=wa;Ga.prototype=wa.prototype;ia("pmatrix","(",")");ia("bmatrix","[","]");ia("Bmatrix","{","}");ia("vmatrix","|","|");ia("Vmatrix","&#8214;","&#8214;");ia("cases","{","&nbsp;");e.editable=f(B,function(){this.init("\\editable");
m(this.jQ,this.firstChild,!1,!0);var b;this.placeCursor=function(k){b=k.appendTo(this.firstChild)};this.firstChild.blur=function(){b.prev===this.parent&&(delete this.blur,this.cursor.appendTo(this),l.prototype.blur.call(this))};this.latex=function(){return this.firstChild.latex()};this.text=function(){return this.firstChild.text()}});q=V.prototype=new h;q.text=function(){var b=this.cmd;!this.prev||this.prev instanceof V||this.prev instanceof L||(b="*"+b);!this.next||this.next instanceof L||"^"===
this.next.cmd||(b+="*");return b};u.prototype=h.prototype;xa.prototype=h.prototype;xa.redraw=function(){var b=this.blockjQ.outerHeight()/+this.blockjQ.css("fontSize").slice(0,-2);da(this.bracketjQs,na(1+.3*(b-1),1.3),1.05*b)};q=Ha.prototype=new u;q.precedence=.5;W[" "]=W["#"]=Ha;e.prime=e["'"]=W["'"]=a(u,"'","<big>\u2032</big>");ja.prototype=h.prototype;e["@"]=ja;e["&"]=a(ja,"\\&","&");e["%"]=a(ja,"\\%","%");e.alpha=e.beta=e.gamma=e.delta=e.zeta=e.eta=e.theta=e.iota=e.kappa=e.mu=e.nu=e.xi=e.rho=e.sigma=
e.tau=e.chi=e.psi=e.omega=f(h,function(b,k){V.call(this,"\\"+k+" ","&"+k+";")});e.phi=a(V,"\\phi ","&#981;");e.phiv=e.varphi=a(V,"\\varphi ","&phi;");e.epsilon=a(V,"\\epsilon ","&#1013;");e.epsiv=e.varepsilon=a(V,"\\varepsilon ","&epsilon;");e.piv=e.varpi=a(V,"\\varpi ","&piv;");e.sigmaf=e.sigmav=e.varsigma=a(V,"\\varsigma ","&sigmaf;");e.thetav=e.vartheta=e.thetasym=a(V,"\\vartheta ","&thetasym;");e.upsilon=e.upsi=a(V,"\\upsilon ","&upsilon;");e.gammad=e.Gammad=e.digamma=a(V,"\\digamma ","&#989;");
e.kappav=e.varkappa=a(V,"\\varkappa ","&#1008;");e.rhov=e.varrho=a(V,"\\varrho ","&#1009;");e.pi=e["\u03c0"]=a(ja,"\\pi ","&pi;");e.lambda=a(ja,"\\lambda ","&lambda;");e.Upsilon=e.Upsi=e.upsih=e.Upsih=a(h,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>');e.Gamma=e.Delta=e.Theta=e.Lambda=e.Xi=e.Pi=e.Sigma=e.Phi=e.Psi=e.Omega=e.forall=f(h,function(b,k){u.call(this,"\\"+k+" ","&"+k+";")});q=L.prototype=new h;q.precedence=1;q=la.prototype=new L;q.respace=function(){this.jQ[0].className=this.prev?
this.prev instanceof L&&this.next&&!(this.next instanceof L)?"unary-operator":"binary-operator":"";return this};e["+"]=a(la,"+","+");e["\u2013"]=e["-"]=a(la,"-","&minus;");e["\u00b1"]=e.pm=e.plusmn=e.plusminus=a(la,"\\pm ","&plusmn;");e.mp=e.mnplus=e.minusplus=a(la,"\\mp ","&#8723;");W["*"]=e.sdot=e.cdot=a(L,"\\cdot ","&middot;");e["="]=a(L,"=","=");e["<"]=a(L,"<","&lt;");e[">"]=a(L,">","&gt;");e.notin=e.sim=e.cong=e.equiv=e.oplus=e.otimes=f(L,function(b,k){L.call(this,"\\"+k+" ","&"+k+";")});e.times=
f(L,function(b,k){L.call(this,"\\times ","&times;","[x]")});e["\u00f7"]=e.div=e.divide=e.divides=a(L,"\\div ","&divide;","[/]");e["\u2260"]=e.ne=e.neq=a(L,"\\ne ","&ne;");e.ast=e.star=e.loast=e.lowast=a(L,"\\ast ","&lowast;");e.therefor=e.therefore=a(L,"\\therefore ","&there4;");e.cuz=e.because=a(L,"\\because ","&#8757;");e.prop=e.propto=a(L,"\\propto ","&prop;");e["\u2248"]=e.asymp=e.approx=a(L,"\\approx ","&asymp;");e.lt=a(L,"<","&lt;");e.gt=a(L,">","&gt;");e["\u2264"]=e.le=e.leq=a(L,"\\le ","&le;");
e["\u2265"]=e.ge=e.geq=a(L,"\\ge ","&ge;");e.isin=e["in"]=a(L,"\\in ","&isin;");e.ni=e.contains=a(L,"\\ni ","&ni;");e.notni=e.niton=e.notcontains=e.doesnotcontain=a(L,"\\not\\ni ","&#8716;");e.sub=e.subset=a(L,"\\subset ","&sub;");e.supset=e.superset=a(L,"\\supset ","&sup;");e.sup=ra;e.nsub=e.notsub=e.nsubset=e.notsubset=a(L,"\\not\\subset ","&#8836;");e.nsup=e.notsup=e.nsupset=e.notsupset=e.nsuperset=e.notsuperset=a(L,"\\not\\supset ","&#8837;");e.sube=e.subeq=e.subsete=e.subseteq=a(L,"\\subseteq ",
"&sube;");e.supe=e.supeq=e.supsete=e.supseteq=e.supersete=e.superseteq=a(L,"\\supseteq ","&supe;");e.nsube=e.nsubeq=e.notsube=e.notsubeq=e.nsubsete=e.nsubseteq=e.notsubsete=e.notsubseteq=a(L,"\\not\\subseteq ","&#8840;");e.nsupe=e.nsupeq=e.notsupe=e.notsupeq=e.nsupsete=e.nsupseteq=e.notsupsete=e.notsupseteq=e.nsupersete=e.nsuperseteq=e.notsupersete=e.notsuperseteq=a(L,"\\not\\supseteq ","&#8841;");aa.prototype=new h;e["\u2211"]=e.sum=e.summation=a(aa,"\\sum ","&sum;");e["\u220f"]=e.prod=e.product=
a(aa,"\\prod ","&prod;");e.coprod=e.coproduct=a(aa,"\\coprod ","&#8720;");e["\u222b"]=e["int"]=e.integral=a(aa,"\\int ","&int;");e.N=e.naturals=e.Naturals=a(u,"\\mathbb{N}","&#8469;");e.P=e.primes=e.Primes=e.projective=e.Projective=e.probability=e.Probability=a(u,"\\mathbb{P}","&#8473;");e.Z=e.integers=e.Integers=a(u,"\\mathbb{Z}","&#8484;");e.Q=e.rationals=e.Rationals=a(u,"\\mathbb{Q}","&#8474;");e.R=e.reals=e.Reals=a(u,"\\mathbb{R}","&#8477;");e.C=e.complex=e.Complex=e.complexes=e.Complexes=e.complexplane=
e.Complexplane=e.ComplexPlane=a(u,"\\mathbb{C}","&#8450;");e.quad=e.emsp=a(u,"\\quad ","&nbsp;&nbsp;&nbsp;&nbsp;");e.qquad=a(u,"\\qquad ","&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");e.diamond=a(u,"\\diamond ","&#9671;");e.bigtriangleup=a(u,"\\bigtriangleup ","&#9651;");e.ominus=a(u,"\\ominus ","&#8854;");e.uplus=a(u,"\\uplus ","&#8846;");e.bigtriangledown=a(u,"\\bigtriangledown ","&#9661;");e.sqcap=a(u,"\\sqcap ","&#8851;");e.triangleleft=a(u,"\\triangleleft ","&#8882;");e.sqcup=a(u,"\\sqcup ",
"&#8852;");e.triangleright=a(u,"\\triangleright ","&#8883;");e.odot=a(u,"\\odot ","&#8857;");e.bigcirc=a(u,"\\bigcirc ","&#9711;");e.dagger=a(u,"\\dagger ","&#0134;");e.ddagger=a(u,"\\ddagger ","&#135;");e.wr=a(u,"\\wr ","&#8768;");e.amalg=a(u,"\\amalg ","&#8720;");e.models=a(u,"\\models ","&#8872;");e.prec=a(u,"\\prec ","&#8826;");e.succ=a(u,"\\succ ","&#8827;");e.preceq=a(u,"\\preceq ","&#8828;");e.succeq=a(u,"\\succeq ","&#8829;");e.simeq=a(u,"\\simeq ","&#8771;");e.mid=a(u,"\\mid ","&#8739;");
e.matrixmid=a(xa,"\\matrixmid ","&#8739;");e.ll=a(u,"\\ll ","&#8810;");e.gg=a(u,"\\gg ","&#8811;");e.parallel=a(u,"\\parallel ","&#8741;");e.bowtie=a(u,"\\bowtie ","&#8904;");e.sqsubset=a(u,"\\sqsubset ","&#8847;");e.sqsupset=a(u,"\\sqsupset ","&#8848;");e.smile=a(u,"\\smile ","&#8995;");e.sqsubseteq=a(u,"\\sqsubseteq ","&#8849;");e.sqsupseteq=a(u,"\\sqsupseteq ","&#8850;");e.doteq=a(u,"\\doteq ","&#8784;");e.frown=a(u,"\\frown ","&#8994;");e.vdash=a(u,"\\vdash ","&#8870;");e.dashv=a(u,"\\dashv ",
"&#8867;");e.longleftarrow=a(u,"\\longleftarrow ","&#8592;");e.longrightarrow=a(u,"\\longrightarrow ","&#8594;");e.Longleftarrow=a(u,"\\Longleftarrow ","&#8656;");e.Longrightarrow=a(u,"\\Longrightarrow ","&#8658;");e.longleftrightarrow=a(u,"\\longleftrightarrow ","&#8596;");e.updownarrow=a(u,"\\updownarrow ","&#8597;");e.Longleftrightarrow=a(u,"\\Longleftrightarrow ","&#8660;");e.Updownarrow=a(u,"\\Updownarrow ","&#8661;");e.mapsto=a(u,"\\mapsto ","&#8614;");e.nearrow=a(u,"\\nearrow ","&#8599;");
e.hookleftarrow=a(u,"\\hookleftarrow ","&#8617;");e.hookrightarrow=a(u,"\\hookrightarrow ","&#8618;");e.searrow=a(u,"\\searrow ","&#8600;");e.leftharpoonup=a(u,"\\leftharpoonup ","&#8636;");e.rightharpoonup=a(u,"\\rightharpoonup ","&#8640;");e.swarrow=a(u,"\\swarrow ","&#8601;");e.leftharpoondown=a(u,"\\leftharpoondown ","&#8637;");e.rightharpoondown=a(u,"\\rightharpoondown ","&#8641;");e.nwarrow=a(u,"\\nwarrow ","&#8598;");e.ldots=a(u,"\\ldots ","&#8230;");e.cdots=a(u,"\\cdots ","&#8943;");e.vdots=
a(u,"\\vdots ","&#8942;");e.ddots=a(u,"\\ddots ","&#8945;");e.surd=a(u,"\\surd ","&#8730;");e.triangle=a(u,"\\triangle ","&#9653;");e.ell=a(u,"\\ell ","&#8467;");e.top=a(u,"\\top ","&#8868;");e.flat=a(u,"\\flat ","&#9837;");e.natural=a(u,"\\natural ","&#9838;");e.sharp=a(u,"\\sharp ","&#9839;");e.wp=a(u,"\\wp ","&#8472;");e.bot=a(u,"\\bot ","&#8869;");e.clubsuit=a(u,"\\clubsuit ","&#9827;");e.diamondsuit=a(u,"\\diamondsuit ","&#9826;");e.heartsuit=a(u,"\\heartsuit ","&#9825;");e.spadesuit=a(u,"\\spadesuit ",
"&#9824;");e.oint=a(u,"\\oint ","&#8750;");e.bigcap=a(u,"\\bigcap ","&#8745;");e.bigcup=a(u,"\\bigcup ","&#8746;");e.bigsqcup=a(u,"\\bigsqcup ","&#8852;");e.bigvee=a(u,"\\bigvee ","&#8744;");e.bigwedge=a(u,"\\bigwedge ","&#8743;");e.bigodot=a(u,"\\bigodot ","&#8857;");e.bigotimes=a(u,"\\bigotimes ","&#8855;");e.bigoplus=a(u,"\\bigoplus ","&#8853;");e.biguplus=a(u,"\\biguplus ","&#8846;");e.lfloor=a(u,"\\lfloor ","&#8970;");e.rfloor=a(u,"\\rfloor ","&#8971;");e.lceil=a(u,"\\lceil ","&#8968;");e.rceil=
a(u,"\\rceil ","&#8969;");e.slash=a(u,"\\slash ","&#47;");e.opencurlybrace=a(u,"\\opencurlybrace ","&#123;");e.closecurlybrace=a(u,"\\closecurlybrace ","&#125;");e.caret=a(u,"\\caret ","^");e.underscore=a(u,"\\underscore ","_");e.backslash=a(u,"\\backslash ","\\");e.vert=a(u,"|");e.perp=e.perpendicular=a(u,"\\perp ","&perp;");e.nabla=e.del=a(u,"\\nabla ","&nabla;");e.hbar=a(u,"\\hbar ","&#8463;");e.textdiv=a(u,"\\textdiv ","&#247;");e.marker=a(u,"\\marker ","&#9646;");e.msquare=a(u,"\\msquare ","&#9633;");
e.square=a(u,"\\square ","&#9744;");e.bsquare=a(u,"\\bsquare ","&#9724;");e.hspace=a(u,"\\hspace ","&#8201;");e.notequal=a(u,"\\not= ","&#8800;");e.blacksquare=a(u,"\\blacksquare= ","&#9642;");e.hybull=a(u,"\\hybull","&#8259;");e.ding=a(u,"\\ding","&#9830;");e.whiteVerticalRectangle=a(u,"\\whiteVerticalRectangle","&#9647;");e.leftFiveEigthsBlock=a(u,"\\leftFiveEigthsBlock","&#9611;");e.rightHalfBlock=a(u,"\\rightHalfBlock","&#9616;");e.space=a(u,"\\space","&#8197;");e.smallspace=a(u,"\\smallspace",
"&#8201;");e.hairspace=a(u,"\\smallspace","&#8202;");e.emptyspace=a(u,"\\emptyspace","&#8203;");e.dollar=a(u,"\\dollar","$");e.AA=e.Angstrom=e.angstrom=a(u,"\\text\\AA ","&#8491;");e.ring=e.circ=e.circle=a(u,"\\circ ","&#9702;");e.bull=e.bullet=a(u,"\\bullet ","&bull;");e.setminus=e.smallsetminus=a(u,"\\setminus ","&#8726;");e.not=e["\u00ac"]=e.neg=a(u,"\\neg ","&not;");e["\u2026"]=e.dots=e.ellip=e.hellip=e.ellipsis=e.hellipsis=a(u,"\\dots ","&hellip;");e.converges=e.darr=e.dnarr=e.dnarrow=e.downarrow=
a(u,"\\downarrow ","&darr;");e.dArr=e.dnArr=e.dnArrow=e.Downarrow=a(u,"\\Downarrow ","&dArr;");e.diverges=e.uarr=e.uparrow=a(u,"\\uparrow ","&uarr;");e.uArr=e.Uparrow=a(u,"\\Uparrow ","&uArr;");e.to=a(L,"\\to ","&rarr;");e.rarr=e.rightarrow=a(u,"\\rightarrow ","&rarr;");e.implies=a(L,"\\Rightarrow ","&rArr;");e.rArr=e.Rightarrow=a(u,"\\Rightarrow ","&rArr;");e.gets=a(L,"\\gets ","&larr;");e.larr=e.leftarrow=a(u,"\\leftarrow ","&larr;");e.impliedby=a(L,"\\Leftarrow ","&lArr;");e.lArr=e.Leftarrow=a(u,
"\\Leftarrow ","&lArr;");e.harr=e.lrarr=e.leftrightarrow=a(u,"\\leftrightarrow ","&harr;");e.iff=a(L,"\\Leftrightarrow ","&hArr;");e.hArr=e.lrArr=e.Leftrightarrow=a(u,"\\Leftrightarrow ","&hArr;");e.Re=e.Real=e.real=a(u,"\\Re ","&real;");e.Im=e.imag=e.image=e.imagin=e.imaginary=e.Imaginary=a(u,"\\Im ","&image;");e.part=e.partial=a(u,"\\partial ","&part;");e.inf=e.infin=e.infty=e.infinity=a(u,"\\infty ","&infin;");e.alef=e.alefsym=e.aleph=e.alephsym=a(u,"\\aleph ","&alefsym;");e.xist=e.xists=e.exist=
e.exists=a(u,"\\exists ","&exist;");e.and=e.land=e.wedge=a(u,"\\wedge ","&and;");e.or=e.lor=e.vee=a(u,"\\vee ","&or;");e.o=e.O=e.empty=e.emptyset=e.oslash=e.Oslash=e.nothing=e.varnothing=a(L,"\\varnothing ","&empty;");e.cup=e.union=a(L,"\\cup ","&cup;");e.cap=e.intersect=e.intersection=a(L,"\\cap ","&cap;");e.deg=e.degree=a(u,"^{\\circ} ","&deg;");e.ang=e.angle=a(u,"\\angle ","&ang;");q=ra.prototype=new h;q.respace=function(){this.jQ[0].className=this.next instanceof v||this.next instanceof z?"":
"non-italicized-function"};e.exp=e.at=e.tr=e.det=e.rk=e.adj=e.ln=e.lg=e.log=e.span=e.proj=e.det=e.dim=e.min=e.max=e.mod=e.lcm=e.gcd=e.gcf=e.hcf=e.lim=ra;(function(){var b="sin cos tan sec cosec csc cotan cot".split(" "),k;for(k in b)e[b[k]]=e[b[k]+"h"]=e["a"+b[k]]=e["arc"+b[k]]=e["a"+b[k]+"h"]=e["arc"+b[k]+"h"]=ra})();q=ta.prototype;q.prev=0;q.next=0;q.parent=0;q.show=function(){this.jQ=this._jQ.removeClass("blink");"intervalId"in this?clearInterval(this.intervalId):(this.next?this.selection&&this.selection.prev===
this.prev?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this.next.jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus());this.intervalId=setInterval(this.blink,500);return this};q.hide=function(){"intervalId"in this&&clearInterval(this.intervalId);delete this.intervalId;this.jQ.detach();this.jQ=M();return this};q.redraw=function(){for(var b=this.parent;b;b=b.parent)b.redraw&&b.redraw()};q.insertAt=function(b,k,p){var y=this.parent;this.parent=b;this.prev=k;this.next=p;y.blur()};
q.insertBefore=function(b){this.insertAt(b.parent,b.prev,b);this.parent.jQ.addClass("hasCursor");this.jQ.insertBefore(b.jQ.first());return this};q.insertAfter=function(b){this.insertAt(b.parent,b,b.next);this.parent.jQ.addClass("hasCursor");this.jQ.insertAfter(b.jQ.last());return this};q.prependTo=function(b){this.insertAt(b,0,b.firstChild);b.textarea?this.jQ.insertAfter(b.textarea):this.jQ.prependTo(b.jQ);b.focus();return this};q.appendTo=function(b){this.insertAt(b,b.lastChild,0);this.jQ.appendTo(b.jQ);
b.focus();return this};q.hopLeft=function(){this.jQ.insertBefore(this.prev.jQ.first());this.next=this.prev;this.prev=this.prev.prev;return this};q.hopRight=function(){this.jQ.insertAfter(this.next.jQ.last());this.prev=this.next;this.next=this.next.next;return this};q.moveLeft=function(){this.selection?this.insertBefore(this.selection.prev.next||this.parent.firstChild).clearSelection():this.prev?this.prev.lastChild?this.appendTo(this.prev.lastChild):this.hopLeft():this.parent.prev?this.appendTo(this.parent.prev):
this.parent!==this.root&&this.insertBefore(this.parent.parent);return this.show()};q.moveRight=function(){this.selection?this.insertAfter(this.selection.next.prev||this.parent.lastChild).clearSelection():this.next?this.next.firstChild?this.prependTo(this.next.firstChild):this.hopRight():this.parent.next?this.prependTo(this.parent.next):this.parent!==this.root&&this.insertAfter(this.parent.parent);return this.show()};q.seek=function(b,k,p){p=this.clearSelection();if(b.hasClass("empty"))return p.prependTo(b.data("[[mathquill internal data]]").block),
p;var y=b.data("[[mathquill internal data]]");if(y){if(y.cmd&&!y.block)return b.outerWidth()>2*(k-b.offset().left)?p.insertBefore(y.cmd):p.insertAfter(y.cmd),p}else b=b.parent(),(y=b.data("[[mathquill internal data]]"))||(y={block:p.root});y.cmd?p.insertAfter(y.cmd):p.appendTo(y.block);b=p.jQ.offset().left-k;do p.moveLeft(),y=b,b=p.jQ.offset().left-k;while(0<b&&(p.prev||p.parent!==p.root));-b>y&&p.moveRight();return p};q.replaceIntervalParentheses=function(b){for(var k=[],p=[],y=0;y<b.length;y++){var D=
b[y];"("===D||"["===D?p.push({ind:y,type:D}):")"===D?(D=p.pop())&&"["===D.type&&(k.push({index:D.ind,value:"LEFTCLOSED"}),k.push({index:y,value:"RIGHTOPEN"})):"]"===D&&(D=p.pop())&&"("===D.type&&(k.push({index:D.ind,value:"LEFTOPEN"}),k.push({index:y,value:"RIGHTCLOSED"}))}for(p=k.length-1;0<=p;p--)b=b.replaceAt(k[p].index,k[p].value);return b};q.writeLatex=function(b){this.root.hidePlaceholder();this.deleteSelection();if(0>b.indexOf("matrix")&&1E3<b.length)return this.hide();b=b.replace(/\\sqrt\[(.+?)\]/g,
"\\nthroot-$1-");b=b.replace(/\\nthroot\[(.+?)\]/g,"\\nthroot-$1-");b=this.replaceIntervalParentheses(b);b=b.replace(/(\\left\s*\(|\()/g,"\\left(");b=b.replace(/(\\right\s*\)|\))/g,"\\right)");b=b.replace(/(\\left\s*\[|\[)/g,"\\left[");b=b.replace(/(\\right\s*\]|\])/g,"\\right]");b=b.replace(/\\nthroot-(.+?)-/g,"\\nthroot[$1]");b=b.replace(/^\\left([\(\[])$/,"$1");b=b.replace(/^\\right([\)\]])$/,"$1");b=b.replace(/\\int(#| )(_|^)/g,"\\int$2");b=b.replace(/"/g,"");b=b.replace(/\*/g,"\\cdot ");b=b.replace(/\$/g,
"");b=b.replace(/\\%/g,"%");b=b.replace(/([a-z])\\circ/g,"$1\\:\\circ");b=b.replace(/LEFTOPEN/g,"(");b=b.replace(/LEFTCLOSED/g,"[");b=b.replace(/RIGHTOPEN/g,")");b=b.replace(/RIGHTCLOSED/g,"]");b=b.replace(/\\land/g,"\\quad\\mathrm{and}\\quad ");b=b.replace(/\\lor/g,"\\quad\\mathrm{or}\\quad ");b=b.replace(/f'/g,"f\\:'");b=(b=b.replace(/f\\prime/g,"f\\:\\prime"))&&b.match(/\\(?:begin|end){cases}|\\(?:begin|end){([pbv]|small)?matrix}|\\\\|\\mathbb{[CNPQRZ]}|\\text{([^}]|\\})*}|\\:|\\[a-z]*|[^\s]/ig)||
0;this.adjustParenScripts(b);this.parent.textarea||this.adjustVariables(b);this.adjustVariablesHE(b);(function D(p,y){if("]"==b)p.insertNew(new u(b));else for(;b.length;){var H=b.shift();if(!H||H===y||"\\end{"===H.slice(0,5))break;if("&"===H||"\\\\"===H){b.unshift("{");break}var J;if("\\begin{"===H.slice(0,7)){H=H.slice(7,-1);for(var F=J=1,T=0;;T+=1){var ha=b[T];if("\\end{"===ha.slice(0,5))break;else"\\\\"===ha?J+=1:"&"===ha&&1===J&&(F+=1)}p.insertNew(J=new e[H](P,P,J,F));b.unshift("{")}else if("\\text{"===
H.slice(0,6)){J=new S(H.slice(6,-1));p.insertNew(J).insertAfter(J);continue}else if("{"==H){D(p,"}");continue}else if(/\\mathbb\{[CNPQRZ]\}/.test(H)){J=new (e[H.slice(-2,-1)]);p.insertNew(J).insertAfter(J);continue}else if("\\left"===H||"\\right"===H)if(H=b.shift(),"\\"===H&&(H=b.shift()),H===P&&(H=""),p.insertCh(H),J=p.prev||p.parent.parent,p.prev)break;else b.unshift("{");else if(/^\\[a-z]+$/i.test(H))if(H=H.slice(1),J=e[H])p.insertNew(J=new J(P,H));else{J=new S(H);p.insertNew(J).insertAfter(J);
continue}else J=H.match(/[a-zA-Z\u00E1-\u00F3]/)?new V(H):(J=e[H])?new J:"#"==H||"\\:"==H?new W[" "]:new u(H),p.insertNew(J);J.eachChild(function(Z){p.appendTo(Z);Z=b.shift();if(!Z)return!1;"{"===Z||"["===Z?D(p,"{"===Z?"}":"]"):p.insertCh(Z)});p.insertAfter(J)}})(this);return this.hide()};q.write=function(b){return this.show().insertCh(b)};q.insertCh=function(b){this.selection&&(this.prev=this.selection.prev,this.next=this.selection.next);var k=b.match(/^[a-zA-Z]$/)?new V(b):(k=W[b]||e[b])?new k(this.selection,
b):new u(b);this.selection&&(k instanceof h&&this.selection.remove(),delete this.selection);return this.insertNew(k)};q.insertNew=function(b){b.insertAt(this);return this};q.insertCmd=function(b,k){var p=e[b];p?(p=new p(k,b),this.insertNew(p),p instanceof h&&k&&k.remove()):(p=new S(b),p.firstChild.focus=function(){delete this.focus;return this},this.insertNew(p).insertAfter(p),k&&k.remove());return this};q.unwrapGramp=function(){var b=this.parent.parent,k=b.parent,p=b.prev;b.eachChild(function(y){y.isEmpty()||
(y.eachChild(function(D){D.parent=k;D.jQ.insertBefore(b.jQ.first())}),(y.firstChild.prev=p)?p.next=y.firstChild:k.firstChild=y.firstChild,p=y.lastChild)});(p.next=b.next)?b.next.prev=p:k.lastChild=p;if(!this.next)if(this.prev)this.next=this.prev.next;else for(;!this.next;)if(this.parent=this.parent.next)this.next=this.parent.firstChild;else{this.next=b.next;this.parent=k;break}this.next?this.insertBefore(this.next):this.appendTo(k);b.jQ.remove();b.prev&&b.prev.respace();b.next&&b.next.respace()};
q.backspace=function(){if(!this.deleteSelection())if(this.prev)this.prev.isEmpty()?this.prev=this.prev.remove().prev:this.selectLeft();else if(this.parent!==this.root){if(this.parent.parent.isEmpty())return this.insertAfter(this.parent.parent).backspace();this.unwrapGramp()}this.prev&&this.prev.respace();this.next&&this.next.respace();this.redraw();return this};q.deleteForward=function(){if(!this.deleteSelection())if(this.next)this.next.isEmpty()?this.next=this.next.remove().next:this.selectRight();
else if(this.parent!==this.root){if(this.parent.parent.isEmpty())return this.insertBefore(this.parent.parent).deleteForward();this.unwrapGramp()}this.prev&&this.prev.respace();this.next&&this.next.respace();this.redraw();return this};q.selectWord=function(){if(this.parent.isEmpty())return this.selectLeft();for(var b=this.next,k=this.prev,p=b?b.precedence:k.precedence;b.precedence===p;)b=b.next;for(;k.precedence===p;)k=k.prev;b?this.insertBefore(b):this.appendTo(this.parent);this.hide().selection=
new ma(this.parent,k,b)};q.selectFrom=function(b){var k=this,p=b,y=0;a:for(;;){for(var D=this;D!==k.parent.parent;D=D.parent.parent)if(D.parent===p.parent){var H=D;var J=p;break a}for(D=b;D!==p.parent.parent;D=D.parent.parent)if(k.parent===D.parent){H=k;J=D;break a}k.parent.parent&&(k=k.parent.parent);p.parent.parent&&(p=p.parent.parent);if(1E3<y++)break a}if(H.next!==J){for(b=H;b;b=b.next)if(b===J.prev){var F=!0;break}F||(F=J,J=H,H=F)}this.hide().selection=new ma(H.parent,H.prev,J.next);this.insertAfter(J.next.prev||
J.parent.lastChild);this.root.selectionChanged()};q.selectLeft=function(){if(this.selection)if(this.selection.prev===this.prev)this.prev?(this.hopLeft().next.jQ.prependTo(this.selection.jQ),this.selection.prev=this.prev):this.parent!==this.root&&this.insertBefore(this.parent.parent).selection.levelUp();else{if(this.prev.jQ.insertAfter(this.selection.jQ),this.hopLeft().selection.next=this.next,this.selection.prev===this.prev){this.deleteSelection();return}}else{if(this.prev)this.hopLeft();else if(this.parent!==
this.root)this.insertBefore(this.parent.parent);else return;this.hide().selection=new ma(this.parent,this.prev,this.next.next)}this.root.selectionChanged()};q.selectRight=function(){if(this.selection)if(this.selection.next===this.next)this.next?(this.hopRight().prev.jQ.appendTo(this.selection.jQ),this.selection.next=this.next):this.parent!==this.root&&this.insertAfter(this.parent.parent).selection.levelUp();else{if(this.next.jQ.insertBefore(this.selection.jQ),this.hopRight().selection.prev=this.prev,
this.selection.next===this.next){this.deleteSelection();return}}else{if(this.next)this.hopRight();else if(this.parent!==this.root)this.insertAfter(this.parent.parent);else return;this.hide().selection=new ma(this.parent,this.prev.prev,this.next)}this.root.selectionChanged()};q.clearSelection=function(){this.show().selection&&(this.selection.clear(),delete this.selection,this.root.selectionChanged());return this};q.deleteSelection=function(){if(!this.show().selection)return!1;this.prev=this.selection.prev;
this.next=this.selection.next;this.selection.remove();delete this.selection;this.root.selectionChanged();return!0};q.adjustVariables=function(b){for(var k=!1,p=0;p<b.length;p++){var y=b[p];"a"<=y&&"z">=y||"A"<=y&&"Z">=y||"\u00e1"<=y&&"\u00f3">=y?(k&&(b[p-1]+=b[p],b.splice(p,1),p--),k=!0):k=!1}};q.adjustVariablesHE=function(b){for(var k=!1,p=0;p<b.length;p++){var y=b[p];"\u05d0"<=y&&"\u05ea">=y||"\u0600"<=y&&"\u06ff">=y?(k&&(b[p-1]+=b[p],b.splice(p,1),p--),k=!0):k=!1}};q.adjustParenScripts=function(b){for(var k=
0;k<b.length-2;k++){var p=b[k];if("^"===p||"_"===p)if(p=b[k+2],"\\left"===b[k+1]&&"("===p){p=k+1;for(var y=1,D=k+3;0<y&&D<b.length-1;D++){var H=b[D],J=b[D+1];"\\right"===H&&")"===J?y--:"\\left"===H&&"("===J&&y++}0==y&&(b.splice(p,0,"{"),b.splice(D+2,0,"}"))}}};q=ma.prototype=new r;q.jQinit=function(b){this.jQ=b.wrapAll('<span class="selection"></span>').parent()};q.levelUp=function(){this.clear().jQinit(this.parent.parent.jQ);this.prev=this.parent.parent.prev;this.next=this.parent.parent.next;this.parent=
this.parent.parent.parent;return this};q.clear=function(){this.jQ.replaceWith(this.jQ.children());return this};q.blockify=function(){this.jQ.replaceWith(this.jQ=this.jQ.children());return r.prototype.blockify.call(this)};q.detach=function(){var b=r.prototype.blockify.call(this);this.blockify=function(){this.jQ.replaceWith(b.jQ=this.jQ=this.jQ.children());return b};return this};M.fn.mathquill=function(b,k,p){switch(b){case "placeholder":return this.each(function(){var F=M(this).data("[[mathquill internal data]]");
(F=F&&F.block)&&F.setPlaceholder&&(F.setPlaceholder(k),this!==document.activeElement&&F.showPlaceholder())});case "redraw":return this.find(":not(:has(:first))").each(function(){var F=M(this).data("[[mathquill internal data]]");F&&(F.cmd||F.block)&&ta.prototype.redraw.call(F.cmd||F.block)}),this;case "revert":return this.each(function(){var F=M(this).data("[[mathquill internal data]]");F&&F.revert&&F.revert()});case "latex":if(1<arguments.length)return this.each(function(){var F=M(this).data("[[mathquill internal data]]");
F&&F.block&&F.block.renderLatex&&F.block.renderLatex(k)});var y=this.data("[[mathquill internal data]]");return y&&y.block&&y.block.latex();case "text":return(y=this.data("[[mathquill internal data]]"))&&y.block&&y.block.text();case "html":return this.html().replace(/ ?hasCursor|hasCursor /,"").replace(/ class=(""|(?= |>))/g,"").replace(/<span class="?cursor( blink)?"?><\/span>/i,"").replace(/<span class="?textarea"?><textarea><\/textarea><\/span>/i,"");case "write":if(1<arguments.length)return this.each(function(){var F=
M(this).data("[[mathquill internal data]]"),T=(F=F&&F.block)&&F.cursor;if(T){T.writeLatex(k);if(p!=P)for(i=0;i<p;i++)T.moveLeft();F.blur()}});case "cmd":if(1<arguments.length)return this.each(function(){var F=M(this).data("[[mathquill internal data]]"),T=(F=F&&F.block)&&F.cursor;if(T){T.writeLatex(k);if(p!=P)for(i=0;i<p;i+=1)T.moveLeft();F.blur()}});case "backspace":return this.each(function(){var F=M(this).data("[[mathquill internal data]]");F=F&&F.block;(F&&F.cursor).backspace()});case "moveleft":return this.each(function(){var F=
M(this).data("[[mathquill internal data]]"),T=(F=F&&F.block)&&F.cursor;F.focus();T.moveLeft()});case "moveright":return this.each(function(){var F=M(this).data("[[mathquill internal data]]"),T=(F=F&&F.block)&&F.cursor;F.focus();T.moveRight()});default:var D="textbox"===b,H=D||"editable"===b,J=D?d:t;return this.each(function(){m(M(this),new J,D,H)})}};M(function(){M(".mathquill-editable:not(.mathquill-rendered-math)").mathquill("editable");M(".mathquill-textbox:not(.mathquill-rendered-math)").mathquill("textbox");
M(".mathquill-embedded-latex:not(.mathquill-rendered-math)").mathquill()})})();
(function(c,g){"function"===typeof define&&define.amd?define(["jquery"],function(h){return g(h)}):"object"===typeof exports?module.exports=g(require("jquery")):g(jQuery)})(this,function(c){function g(d){this.$container;this.constraints=null;this.__$tooltip;this.__init(d)}function h(d,f){var a=!0;c.each(d,function(n,w){if(void 0===f[n]||d[n]!==f[n])return a=!1});return a}function l(d){var f=d.attr("id");return(f=f?t.window.document.getElementById(f):null)?f===d[0]:c.contains(t.window.document.body,
d[0])}var r={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:"body",plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,
scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},m="undefined"!=typeof window?window:null,t={hasTouchCapability:!(!m||!("ontouchstart"in m||m.DocumentTouch&&m.document instanceof m.DocumentTouch||m.navigator.maxTouchPoints)),hasTransitions:function(){if(!m)return!1;var d=(m.document.body||m.document.documentElement).style,f="transition",a=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof d[f])return!0;f=f.charAt(0).toUpperCase()+
f.substr(1);for(var n=0;n<a.length;n++)if("string"==typeof d[a[n]+f])return!0;return!1}(),IE:!1,semVer:"4.1.6",window:m},B=function(){this.__$emitterPrivate=c({});this.__$emitterPublic=c({});this.__instancesLatestArr=[];this.__plugins={};this._env=t};B.prototype={__bridge:function(d,f,a){if(!f[a]){var n=function(){};n.prototype=d;var w=new n;w.__init&&w.__init(f);c.each(d,function(x,v){0!=x.indexOf("__")&&(f[x]?r.debug&&console.log("The "+x+" method of the "+a+" plugin conflicts with another plugin or native methods"):
(f[x]=function(){return w[x].apply(w,Array.prototype.slice.apply(arguments))},f[x].bridged=w))});f[a]=w}return this},__setWindow:function(d){t.window=d;return this},_getRuler:function(d){return new g(d)},_off:function(){this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments));return this},_on:function(){this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments));return this},_one:function(){this.__$emitterPrivate.one.apply(this.__$emitterPrivate,
Array.prototype.slice.apply(arguments));return this},_plugin:function(d){if("string"==typeof d){var f=null;0<d.indexOf(".")?f=this.__plugins[d]:c.each(this.__plugins,function(a,n){if(n.name.substring(n.name.length-d.length-1)=="."+d)return f=n,!1});return f}if(0>d.name.indexOf("."))throw Error("Plugins must be namespaced");this.__plugins[d.name]=d;d.core&&this.__bridge(d.core,this,d.name);return this},_trigger:function(){var d=Array.prototype.slice.apply(arguments);"string"==typeof d[0]&&(d[0]={type:d[0]});
this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,d);this.__$emitterPublic.trigger.apply(this.__$emitterPublic,d);return this},instances:function(d){var f=[];c(d||".tooltipstered").each(function(){var a=c(this),n=a.data("tooltipster-ns");n&&c.each(n,function(w,x){f.push(a.data(x))})});return f},instancesLatest:function(){return this.__instancesLatestArr},off:function(){this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments));return this},on:function(){this.__$emitterPublic.on.apply(this.__$emitterPublic,
Array.prototype.slice.apply(arguments));return this},one:function(){this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments));return this},origins:function(d){return c((d?d+" ":"")+".tooltipstered").toArray()},setDefaults:function(d){c.extend(r,d);return this},triggerHandler:function(){this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments));return this}};c.tooltipster=new B;c.Tooltipster=function(d,f){this.__callbacks=
{close:[],open:[]};this.__closingTime;this.__Content;this.__contentBcr;this.__destroying=this.__destroyed=!1;this.__$emitterPrivate=c({});this.__$emitterPublic=c({});this.__enabled=!0;this.__garbageCollector;this.__Geometry;this.__lastPosition;this.__namespace="tooltipster-"+Math.round(1E6*Math.random());this.__options;this.__$originParents;this.__pointerIsOverOrigin=!1;this.__previousThemes=[];this.__state="closed";this.__timeouts={close:[],open:null};this.__touchEvents=[];this.__tracker=null;this._$origin;
this._$tooltip;this.__init(d,f)};c.Tooltipster.prototype={__init:function(d,f){var a=this;a._$origin=c(d);a.__options=c.extend(!0,{},r,f);a.__optionsFormat();if(!t.IE||t.IE>=a.__options.IEmin){d=null;void 0===a._$origin.data("tooltipster-initialTitle")&&(d=a._$origin.attr("title"),void 0===d&&(d=null),a._$origin.data("tooltipster-initialTitle",d));if(null!==a.__options.content)a.__contentSet(a.__options.content);else{f=a._$origin.attr("data-tooltip-content");var n;f&&(n=c(f));n&&n[0]?a.__contentSet(n.first()):
a.__contentSet(d)}a._$origin.removeAttr("title").addClass("tooltipstered");a.__prepareOrigin();a.__prepareGC();c.each(a.__options.plugins,function(w,x){a._plug(x)});if(t.hasTouchCapability)c("body").on("touchmove."+a.__namespace+"-triggerOpen",function(w){a._touchRecordEvent(w)});a._on("created",function(){a.__prepareTooltip()})._on("repositioned",function(w){a.__lastPosition=w.position})}else a.__options.disabled=!0},__contentInsert:function(){var d=this._$tooltip.find(".tooltipster-content"),f=
this.__Content;this._trigger({type:"format",content:this.__Content,format:function(a){f=a}});this.__options.functionFormat&&(f=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content));"string"!==typeof f||this.__options.contentAsHTML?d.empty().append(f):d.text(f);return this},__contentSet:function(d){d instanceof c&&this.__options.contentCloning&&(d=d.clone(!0));this.__Content=d;this._trigger({type:"updated",content:d});return this},__destroyError:function(){throw Error("This tooltip has been destroyed and cannot execute your method call.");
},__geometry:function(){var d=this._$origin,f=this._$origin.is("area");if(f){var a=this._$origin.parent().attr("name");d=c('img[usemap="#'+a+'"]')}var n=d[0].getBoundingClientRect(),w=c(t.window.document),x=c(t.window);a=d;var v={available:{document:null,window:null},document:{size:{height:w.height(),width:w.width()}},window:{scroll:{left:t.window.scrollX||t.window.document.documentElement.scrollLeft,top:t.window.scrollY||t.window.document.documentElement.scrollTop},size:{height:x.height(),width:x.width()}},
origin:{fixedLineage:!1,offset:{},size:{height:n.bottom-n.top,width:n.right-n.left},usemapImage:f?d[0]:null,windowOffset:{bottom:n.bottom,left:n.left,right:n.right,top:n.top}}};if(f){f=this._$origin.attr("shape");var G=this._$origin.attr("coords");G&&(G=G.split(","),c.map(G,function(O,U){G[U]=parseInt(O)}));if("default"!=f)switch(f){case "circle":f=G[0];d=G[1];n=G[2];v.origin.size.height=2*n;v.origin.size.width=v.origin.size.height;v.origin.windowOffset.left+=f-n;v.origin.windowOffset.top+=d-n;break;
case "rect":f=G[0];d=G[1];n=G[2];v.origin.size.height=G[3]-d;v.origin.size.width=n-f;v.origin.windowOffset.left+=f;v.origin.windowOffset.top+=d;break;case "poly":w=n=d=f=0;x="even";for(var E=0;E<G.length;E++){var A=G[E];"even"==x?(A>n&&(n=A,0===E&&(f=n)),A<f&&(f=A),x="odd"):(A>w&&(w=A,1==E&&(d=w)),A<d&&(d=A),x="even")}v.origin.size.height=w-d;v.origin.size.width=n-f;v.origin.windowOffset.left+=f;v.origin.windowOffset.top+=d}}this._trigger({type:"geometry",edit:function(O){v.origin.size.height=O.height;
v.origin.windowOffset.left=O.left;v.origin.windowOffset.top=O.top;v.origin.size.width=O.width},geometry:{height:v.origin.size.height,left:v.origin.windowOffset.left,top:v.origin.windowOffset.top,width:v.origin.size.width}});v.origin.windowOffset.right=v.origin.windowOffset.left+v.origin.size.width;v.origin.windowOffset.bottom=v.origin.windowOffset.top+v.origin.size.height;v.origin.offset.left=v.origin.windowOffset.left+v.window.scroll.left;v.origin.offset.top=v.origin.windowOffset.top+v.window.scroll.top;
v.origin.offset.bottom=v.origin.offset.top+v.origin.size.height;v.origin.offset.right=v.origin.offset.left+v.origin.size.width;v.available.document={bottom:{height:v.document.size.height-v.origin.offset.bottom,width:v.document.size.width},left:{height:v.document.size.height,width:v.origin.offset.left},right:{height:v.document.size.height,width:v.document.size.width-v.origin.offset.right},top:{height:v.origin.offset.top,width:v.document.size.width}};for(v.available.window={bottom:{height:Math.max(v.window.size.height-
Math.max(v.origin.windowOffset.bottom,0),0),width:v.window.size.width},left:{height:v.window.size.height,width:Math.max(v.origin.windowOffset.left,0)},right:{height:v.window.size.height,width:Math.max(v.window.size.width-Math.max(v.origin.windowOffset.right,0),0)},top:{height:Math.max(v.origin.windowOffset.top,0),width:v.window.size.width}};"html"!=a[0].tagName.toLowerCase();){if("fixed"==a.css("position")){v.origin.fixedLineage=!0;break}a=a.parent()}return v},__optionsFormat:function(){"number"==
typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]);"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]);"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]);"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]);"string"==typeof this.__options.parent&&
(this.__options.parent=c(this.__options.parent));"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0});this._trigger("options");return this},__prepareGC:function(){var d=this;d.__options.selfDestruction?d.__garbageCollector=setInterval(function(){var f=(new Date).getTime();
d.__touchEvents=c.grep(d.__touchEvents,function(a,n){return 6E4<f-a.time});l(d._$origin)||d.destroy()},2E4):clearInterval(d.__garbageCollector);return d},__prepareOrigin:function(){var d=this;d._$origin.off("."+d.__namespace+"-triggerOpen");if(t.hasTouchCapability)d._$origin.on("touchstart."+d.__namespace+"-triggerOpen touchend."+d.__namespace+"-triggerOpen touchcancel."+d.__namespace+"-triggerOpen",function(a){d._touchRecordEvent(a)});if(d.__options.triggerOpen.click||d.__options.triggerOpen.tap&&
t.hasTouchCapability){var f="";d.__options.triggerOpen.click&&(f+="click."+d.__namespace+"-triggerOpen ");d.__options.triggerOpen.tap&&t.hasTouchCapability&&(f+="touchend."+d.__namespace+"-triggerOpen");d._$origin.on(f,function(a){d._touchIsMeaningfulEvent(a)&&d._open(a)})}if(d.__options.triggerOpen.mouseenter||d.__options.triggerOpen.touchstart&&t.hasTouchCapability)f="",d.__options.triggerOpen.mouseenter&&(f+="mouseenter."+d.__namespace+"-triggerOpen "),d.__options.triggerOpen.touchstart&&t.hasTouchCapability&&
(f+="touchstart."+d.__namespace+"-triggerOpen"),d._$origin.on(f,function(a){if(d._touchIsTouchEvent(a)||!d._touchIsEmulatedEvent(a))d.__pointerIsOverOrigin=!0,d._openShortly(a)});if(d.__options.triggerClose.mouseleave||d.__options.triggerClose.touchleave&&t.hasTouchCapability)f="",d.__options.triggerClose.mouseleave&&(f+="mouseleave."+d.__namespace+"-triggerOpen "),d.__options.triggerClose.touchleave&&t.hasTouchCapability&&(f+="touchend."+d.__namespace+"-triggerOpen touchcancel."+d.__namespace+"-triggerOpen"),
d._$origin.on(f,function(a){d._touchIsMeaningfulEvent(a)&&(d.__pointerIsOverOrigin=!1)});return d},__prepareTooltip:function(){var d=this,f=d.__options.interactive?"auto":"";d._$tooltip.attr("id",d.__namespace).css({"pointer-events":f,zIndex:d.__options.zIndex});c.each(d.__previousThemes,function(a,n){d._$tooltip.removeClass(n)});c.each(d.__options.theme,function(a,n){d._$tooltip.addClass(n)});d.__previousThemes=c.merge([],d.__options.theme);return d},__scrollHandler:function(d){if(this.__options.triggerClose.scroll)this._close(d);
else{if(d.target===t.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(d);else{var f=this.__geometry(),a=!1;"fixed"!=this._$origin.css("position")&&this.__$originParents.each(function(n,w){n=c(w);var x=n.css("overflow-x"),v=n.css("overflow-y");if("visible"!=x||"visible"!=v)if(w=w.getBoundingClientRect(),"visible"!=x&&(f.origin.windowOffset.left<w.left||f.origin.windowOffset.right>w.right)||"visible"!=v&&(f.origin.windowOffset.top<w.top||f.origin.windowOffset.bottom>
w.bottom))return a=!0,!1;if("fixed"==n.css("position"))return!1});a?this._$tooltip.css("visibility","hidden"):(this._$tooltip.css("visibility","visible"),this.__options.repositionOnScroll?this.reposition(d):this._$tooltip.css({left:this.__lastPosition.coord.left+(f.origin.offset.left-this.__Geometry.origin.offset.left),top:this.__lastPosition.coord.top+(f.origin.offset.top-this.__Geometry.origin.offset.top)}))}this._trigger({type:"scroll",event:d})}return this},__stateSet:function(d){this.__state=
d;this._trigger({type:"state",state:d});return this},__timeoutsClear:function(){clearTimeout(this.__timeouts.open);this.__timeouts.open=null;c.each(this.__timeouts.close,function(d,f){clearTimeout(f)});this.__timeouts.close=[];return this},__trackerStart:function(){var d=this,f=d._$tooltip.find(".tooltipster-content");d.__options.trackTooltip&&(d.__contentBcr=f[0].getBoundingClientRect());d.__tracker=setInterval(function(){if(l(d._$origin)&&l(d._$tooltip)){if(d.__options.trackOrigin){var a=d.__geometry(),
n=!1;h(a.origin.size,d.__Geometry.origin.size)&&(d.__Geometry.origin.fixedLineage?h(a.origin.windowOffset,d.__Geometry.origin.windowOffset)&&(n=!0):h(a.origin.offset,d.__Geometry.origin.offset)&&(n=!0));n||(d.__options.triggerClose.mouseleave?d._close():d.reposition())}d.__options.trackTooltip&&(a=f[0].getBoundingClientRect(),a.height!==d.__contentBcr.height||a.width!==d.__contentBcr.width)&&(d.reposition(),d.__contentBcr=a)}else d._close()},d.__options.trackerInterval);return d},_close:function(d,
f){var a=this,n=!0;a._trigger({type:"close",event:d,stop:function(){n=!1}});if(n||a.__destroying){f&&a.__callbacks.close.push(f);a.__callbacks.open=[];a.__timeoutsClear();var w=function(){c.each(a.__callbacks.close,function(v,G){G.call(a,a,{event:d,origin:a._$origin[0]})});a.__callbacks.close=[]};if("closed"!=a.__state){f=!0;var x=(new Date).getTime()+a.__options.animationDuration[1];"disappearing"==a.__state&&x>a.__closingTime&&(f=!1);f&&(a.__closingTime=x,"disappearing"!=a.__state&&a.__stateSet("disappearing"),
f=function(){clearInterval(a.__tracker);a._trigger({type:"closing",event:d});a._$tooltip.off("."+a.__namespace+"-triggerClose").removeClass("tooltipster-dying");c(t.window).off("."+a.__namespace+"-triggerClose");a.__$originParents.each(function(v,G){c(G).off("scroll."+a.__namespace+"-triggerClose")});a.__$originParents=null;c("body").off("."+a.__namespace+"-triggerClose");a._$origin.off("."+a.__namespace+"-triggerClose");a._off("dismissable");a.__stateSet("closed");a._trigger({type:"after",event:d});
a.__options.functionAfter&&a.__options.functionAfter.call(a,a,{event:d,origin:a._$origin[0]});w()},t.hasTransitions?(a._$tooltip.css({"-moz-animation-duration":a.__options.animationDuration[1]+"ms","-ms-animation-duration":a.__options.animationDuration[1]+"ms","-o-animation-duration":a.__options.animationDuration[1]+"ms","-webkit-animation-duration":a.__options.animationDuration[1]+"ms","animation-duration":a.__options.animationDuration[1]+"ms","transition-duration":a.__options.animationDuration[1]+
"ms"}),a._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),0<a.__options.animationDuration[1]&&a._$tooltip.delay(a.__options.animationDuration[1]),a._$tooltip.queue(f)):a._$tooltip.stop().fadeOut(a.__options.animationDuration[1],f))}else w()}return a},_off:function(){this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments));return this},_on:function(){this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments));
return this},_one:function(){this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments));return this},_open:function(d,f){var a=this;if(!a.__destroying&&l(a._$origin)&&a.__enabled){var n=!0;"closed"==a.__state&&(a._trigger({type:"before",event:d,stop:function(){n=!1}}),n&&a.__options.functionBefore&&(n=a.__options.functionBefore.call(a,a,{event:d,origin:a._$origin[0]})));if(!1!==n&&null!==a.__Content){f&&a.__callbacks.open.push(f);a.__callbacks.close=[];a.__timeoutsClear();
var w=function(){"stable"!=a.__state&&a.__stateSet("stable");c.each(a.__callbacks.open,function(E,A){A.call(a,a,{origin:a._$origin[0],tooltip:a._$tooltip[0]})});a.__callbacks.open=[]};if("closed"!==a.__state)f=0,"disappearing"===a.__state?(a.__stateSet("appearing"),t.hasTransitions?(a._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),0<a.__options.animationDuration[0]&&a._$tooltip.delay(a.__options.animationDuration[0]),a._$tooltip.queue(w)):a._$tooltip.stop().fadeIn(w)):
"stable"==a.__state&&w();else{a.__stateSet("appearing");f=a.__options.animationDuration[0];a.__contentInsert();a.reposition(d,!0);t.hasTransitions?(a._$tooltip.addClass("tooltipster-"+a.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":a.__options.animationDuration[0]+"ms","-ms-animation-duration":a.__options.animationDuration[0]+"ms","-o-animation-duration":a.__options.animationDuration[0]+"ms","-webkit-animation-duration":a.__options.animationDuration[0]+"ms","animation-duration":a.__options.animationDuration[0]+
"ms","transition-duration":a.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=a.__state&&(a._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),0<a.__options.animationDuration[0]&&a._$tooltip.delay(a.__options.animationDuration[0]),a._$tooltip.queue(w))},0)):a._$tooltip.css("display","none").fadeIn(a.__options.animationDuration[0],w);a.__trackerStart();c(t.window).on("resize."+a.__namespace+"-triggerClose",function(E){var A=c(document.activeElement);(A.is("input")||
A.is("textarea"))&&c.contains(a._$tooltip[0],A[0])||a.reposition(E)}).on("scroll."+a.__namespace+"-triggerClose",function(E){a.__scrollHandler(E)});a.__$originParents=a._$origin.parents();a.__$originParents.each(function(E,A){c(A).on("scroll."+a.__namespace+"-triggerClose",function(O){a.__scrollHandler(O)})});if(a.__options.triggerClose.mouseleave||a.__options.triggerClose.touchleave&&t.hasTouchCapability){a._on("dismissable",function(E){E.dismissable?E.delay?(G=setTimeout(function(){a._close(E.event)},
E.delay),a.__timeouts.close.push(G)):a._close(E):clearTimeout(G)});d=a._$origin;var x="",v="",G=null;a.__options.interactive&&(d=d.add(a._$tooltip));a.__options.triggerClose.mouseleave&&(x+="mouseenter."+a.__namespace+"-triggerClose ",v+="mouseleave."+a.__namespace+"-triggerClose ");a.__options.triggerClose.touchleave&&t.hasTouchCapability&&(x+="touchstart."+a.__namespace+"-triggerClose",v+="touchend."+a.__namespace+"-triggerClose touchcancel."+a.__namespace+"-triggerClose");d.on(v,function(E){!a._touchIsTouchEvent(E)&&
a._touchIsEmulatedEvent(E)||a._trigger({delay:("mouseleave"==E.type?a.__options.delay:a.__options.delayTouch)[1],dismissable:!0,event:E,type:"dismissable"})}).on(x,function(E){!a._touchIsTouchEvent(E)&&a._touchIsEmulatedEvent(E)||a._trigger({dismissable:!1,event:E,type:"dismissable"})})}if(a.__options.triggerClose.originClick)a._$origin.on("click."+a.__namespace+"-triggerClose",function(E){a._touchIsTouchEvent(E)||a._touchIsEmulatedEvent(E)||a._close(E)});(a.__options.triggerClose.click||a.__options.triggerClose.tap&&
t.hasTouchCapability)&&setTimeout(function(){if("closed"!=a.__state){var E="";a.__options.triggerClose.click&&(E+="click."+a.__namespace+"-triggerClose ");a.__options.triggerClose.tap&&t.hasTouchCapability&&(E+="touchend."+a.__namespace+"-triggerClose");c("body").on(E,function(A){a._touchIsMeaningfulEvent(A)&&(a._touchRecordEvent(A),a.__options.interactive&&c.contains(a._$tooltip[0],A.target)||a._close(A))});if(a.__options.triggerClose.tap&&t.hasTouchCapability)c("body").on("touchstart."+a.__namespace+
"-triggerClose",function(A){a._touchRecordEvent(A)})}},0);a._trigger("ready");a.__options.functionReady&&a.__options.functionReady.call(a,a,{origin:a._$origin[0],tooltip:a._$tooltip[0]})}0<a.__options.timer&&(G=setTimeout(function(){a._close()},a.__options.timer+f),a.__timeouts.close.push(G))}}return a},_openShortly:function(d){var f=this,a=!0;if("stable"!=f.__state&&"appearing"!=f.__state&&!f.__timeouts.open&&(f._trigger({type:"start",event:d,stop:function(){a=!1}}),a)){var n=0==d.type.indexOf("touch")?
f.__options.delayTouch:f.__options.delay;n[0]?f.__timeouts.open=setTimeout(function(){f.__timeouts.open=null;f.__pointerIsOverOrigin&&f._touchIsMeaningfulEvent(d)?(f._trigger("startend"),f._open(d)):f._trigger("startcancel")},n[0]):(f._trigger("startend"),f._open(d))}return f},_optionsExtract:function(d,f){var a=this,n=c.extend(!0,{},f),w=a.__options[d];w||(w={},c.each(f,function(x,v){v=a.__options[x];void 0!==v&&(w[x]=v)}));c.each(n,function(x,v){void 0!==w[x]&&("object"!=typeof v||v instanceof Array||
null==v||"object"!=typeof w[x]||w[x]instanceof Array||null==w[x]?n[x]=w[x]:c.extend(n[x],w[x]))});return n},_plug:function(d){var f=c.tooltipster._plugin(d);if(f)f.instance&&c.tooltipster.__bridge(f.instance,this,f.name);else throw Error('The "'+d+'" plugin is not defined');return this},_touchIsEmulatedEvent:function(d){for(var f=!1,a=(new Date).getTime(),n=this.__touchEvents.length-1;0<=n;n--){var w=this.__touchEvents[n];if(500>a-w.time)w.target===d.target&&(f=!0);else break}return f},_touchIsMeaningfulEvent:function(d){return this._touchIsTouchEvent(d)&&
!this._touchSwiped(d.target)||!this._touchIsTouchEvent(d)&&!this._touchIsEmulatedEvent(d)},_touchIsTouchEvent:function(d){return 0==d.type.indexOf("touch")},_touchRecordEvent:function(d){this._touchIsTouchEvent(d)&&(d.time=(new Date).getTime(),this.__touchEvents.push(d));return this},_touchSwiped:function(d){for(var f=!1,a=this.__touchEvents.length-1;0<=a;a--){var n=this.__touchEvents[a];if("touchmove"==n.type){f=!0;break}else if("touchstart"==n.type&&d===n.target)break}return f},_trigger:function(){var d=
Array.prototype.slice.apply(arguments);"string"==typeof d[0]&&(d[0]={type:d[0]});d[0].instance=this;d[0].origin=this._$origin?this._$origin[0]:null;d[0].tooltip=this._$tooltip?this._$tooltip[0]:null;this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,d);c.tooltipster._trigger.apply(c.tooltipster,d);this.__$emitterPublic.trigger.apply(this.__$emitterPublic,d);return this},_unplug:function(d){var f=this;if(f[d]){var a=c.tooltipster._plugin(d);a.instance&&c.each(a.instance,function(n,w){f[n]&&
f[n].bridged===f[d]&&delete f[n]});f[d].__destroy&&f[d].__destroy();delete f[d]}return f},close:function(d){this.__destroyed?this.__destroyError():this._close(null,d);return this},content:function(d){var f=this;if(void 0===d)return f.__Content;if(f.__destroyed)f.__destroyError();else if(f.__contentSet(d),null!==f.__Content){if("closed"!==f.__state&&(f.__contentInsert(),f.reposition(),f.__options.updateAnimation))if(t.hasTransitions){var a=f.__options.updateAnimation;f._$tooltip.addClass("tooltipster-update-"+
a);setTimeout(function(){"closed"!=f.__state&&f._$tooltip.removeClass("tooltipster-update-"+a)},1E3)}else f._$tooltip.fadeTo(200,.5,function(){"closed"!=f.__state&&f._$tooltip.fadeTo(200,1)})}else f._close();return f},destroy:function(){var d=this;d.__destroyed?d.__destroyError():d.__destroying||(d.__destroying=!0,d._close(null,function(){d._trigger("destroy");d.__destroying=!1;d.__destroyed=!0;d._$origin.removeData(d.__namespace).off("."+d.__namespace+"-triggerOpen");c("body").off("."+d.__namespace+
"-triggerOpen");var f=d._$origin.data("tooltipster-ns");f&&(1===f.length?(f=null,"previous"==d.__options.restoration?f=d._$origin.data("tooltipster-initialTitle"):"current"==d.__options.restoration&&(f="string"==typeof d.__Content?d.__Content:c("<div></div>").append(d.__Content).html()),f&&d._$origin.attr("title",f),d._$origin.removeClass("tooltipstered"),d._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(f=c.grep(f,function(a,n){return a!==d.__namespace}),d._$origin.data("tooltipster-ns",
f)));d._trigger("destroyed");d._off();d.off();d.__Content=null;d.__$emitterPrivate=null;d.__$emitterPublic=null;d.__options.parent=null;d._$origin=null;d._$tooltip=null;c.tooltipster.__instancesLatestArr=c.grep(c.tooltipster.__instancesLatestArr,function(a,n){return d!==a});clearInterval(d.__garbageCollector)}));return d},disable:function(){this.__destroyed?this.__destroyError():(this._close(),this.__enabled=!1);return this},elementOrigin:function(){if(this.__destroyed)this.__destroyError();else return this._$origin[0]},
elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){this.__enabled=!0;return this},hide:function(d){return this.close(d)},instance:function(){return this},off:function(){this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments));return this},on:function(){this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments));return this},one:function(){this.__destroyed?
this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments));return this},open:function(d){this.__destroyed||this.__destroying?this.__destroyError():this._open(null,d);return this},option:function(d,f){if(void 0===f)return this.__options[d];this.__destroyed?this.__destroyError():(this.__options[d]=f,this.__optionsFormat(),0<=c.inArray(d,["trigger","triggerClose","triggerOpen"])&&this.__prepareOrigin(),"selfDestruction"===d&&this.__prepareGC());
return this},reposition:function(d,f){this.__destroyed?this.__destroyError():"closed"!=this.__state&&l(this._$origin)&&(f||l(this._$tooltip))&&(f||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:"reposition",event:d,helper:{geo:this.__Geometry}}));return this},show:function(d){return this.open(d)},status:function(){return{destroyed:this.__destroyed,destroying:this.__destroying,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){this.__destroyed?
this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments));return this}};c.fn.tooltipster=function(){var d=Array.prototype.slice.apply(arguments);if(0===this.length)return this;if("string"===typeof d[0]){var f="#*$~&";this.each(function(){var G=c(this).data("tooltipster-ns");if(G=G?c(this).data(G[0]):null){if("function"===typeof G[d[0]]){1<this.length&&"content"==d[0]&&(d[1]instanceof c||"object"==typeof d[1]&&null!=d[1]&&d[1].tagName)&&
!G.__options.contentCloning&&G.__options.debug&&console.log("You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.");var E=G[d[0]](d[1],d[2])}else throw Error('Unknown method "'+d[0]+'"');if(E!==G||"instance"===d[0])return f=E,!1}else throw Error("You called Tooltipster's \""+d[0]+'" method on an uninitialized element');});return"#*$~&"!==f?f:this}c.tooltipster.__instancesLatestArr=[];var a=d[0]&&void 0!==d[0].multiple,n=a&&
d[0].multiple||!a&&r.multiple;a=(a=d[0]&&void 0!==d[0].content)&&d[0].content||!a&&r.content;var w=d[0]&&void 0!==d[0].contentCloning;w=w&&d[0].contentCloning||!w&&r.contentCloning;var x=d[0]&&void 0!==d[0].debug,v=x&&d[0].debug||!x&&r.debug;1<this.length&&(a instanceof c||"object"==typeof a&&null!=a&&a.tagName)&&!w&&v&&console.log("You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.");this.each(function(){var G=!1,E=c(this),
A=E.data("tooltipster-ns"),O=null;A?n?G=!0:v&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):G=!0;G&&(O=new c.Tooltipster(this,d[0]),A||=[],A.push(O.__namespace),E.data("tooltipster-ns",A),E.data(O.__namespace,O),O.__options.functionInit&&O.__options.functionInit.call(O,O,{origin:this}),O._trigger("init"));c.tooltipster.__instancesLatestArr.push(O)});return this};g.prototype={__init:function(d){this.__$tooltip=d;this.__$tooltip.css({left:0,
overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto");this.$container=c('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo("body")},__forceRedraw:function(){var d=this.__$tooltip.parent();this.__$tooltip.detach();this.__$tooltip.appendTo(d)},constrain:function(d,f){this.constraints={width:d,height:f};this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:d});return this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",
overflow:""});this.$container.remove()},free:function(){this.constraints=null;this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""});return this},measure:function(){this.__forceRedraw();var d=this.__$tooltip[0].getBoundingClientRect(),f={size:{height:d.height||d.bottom,width:d.width||d.right}};if(this.constraints){var a=this.__$tooltip.find(".tooltipster-content"),n=this.__$tooltip.outerHeight(),w=a[0].getBoundingClientRect();d=d.width<=this.constraints.width&&w.width>=a[0].scrollWidth-
1;f.fits=n<=this.constraints.height&&d}t.IE&&11>=t.IE&&f.size.width!==t.window.document.documentElement.clientWidth&&(f.size.width=Math.ceil(f.size.width)+1);return f}};B=navigator.userAgent.toLowerCase();-1!=B.indexOf("msie")?t.IE=parseInt(B.split("msie")[1]):-1!==B.toLowerCase().indexOf("trident")&&-1!==B.indexOf(" rv:11")?t.IE=11:-1!=B.toLowerCase().indexOf("edge/")&&(t.IE=parseInt(B.toLowerCase().split("edge/")[1]));c.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,
distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(d){var f=this;f.__instance=d;f.__namespace="tooltipster-sideTip-"+Math.round(1E6*Math.random());f.__previousState="closed";f.__options;f.__optionsFormat();f.__instance._on("state."+f.__namespace,function(a){"closed"==a.state?f.__close():"appearing"==a.state&&"closed"==f.__previousState&&f.__create();f.__previousState=a.state});f.__instance._on("options."+f.__namespace,
function(){f.__optionsFormat()});f.__instance._on("reposition."+f.__namespace,function(a){f.__reposition(a.event,a.helper)})},__close:function(){this.__instance.content()instanceof c&&this.__instance.content().detach();this.__instance._$tooltip.remove();this.__instance._$tooltip=null},__create:function(){var d=c('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');
this.__options.arrow||d.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide();this.__options.minWidth&&d.css("min-width",this.__options.minWidth+"px");this.__options.maxWidth&&d.css("max-width",this.__options.maxWidth+"px");this.__instance._$tooltip=d;this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){this.__options=this.__instance._optionsExtract("tooltipster.sideTip",this.__defaults());this.__options.position&&
(this.__options.side=this.__options.position);"object"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]);4>this.__options.distance.length&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1]),this.__options.distance={top:this.__options.distance[0],
right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]});"string"==typeof this.__options.side&&(this.__options.side=[this.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[this.__options.side]],"left"==this.__options.side[0]||"right"==this.__options.side[0]?this.__options.side.push("top","bottom"):this.__options.side.push("right","left"));6===c.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(d,
f){var a,n=this,w=n.__targetFind(f),x=[];n.__instance._$tooltip.detach();var v=n.__instance._$tooltip.clone(),G=c.tooltipster._getRuler(v),E=!1;(a=n.__instance.option("animation"))&&v.removeClass("tooltipster-"+a);c.each(["window","document"],function(z,C){var K=null;n.__instance._trigger({container:C,helper:f,satisfied:E,takeTest:function(S){K=S},results:x,type:"positionTest"});if(1==K||0!=K&&0==E&&("window"!=C||n.__options.viewportAware))for(z=0;z<n.__options.side.length;z++){var Q={horizontal:0,
vertical:0},R=n.__options.side[z];"top"==R||"bottom"==R?Q.vertical=n.__options.distance[R]:Q.horizontal=n.__options.distance[R];n.__sideChange(v,R);c.each(["natural","constrained"],function(S,ca){K=null;n.__instance._trigger({container:C,event:d,helper:f,mode:ca,results:x,satisfied:E,side:R,takeTest:function(pa){K=pa},type:"positionTest"});if(1==K||0!=K&&0==E){S={container:C,distance:Q,fits:null,mode:ca,outerSize:null,side:R,size:null,target:w[R],whole:null};var Y=("natural"==ca?G.free():G.constrain(f.geo.available[C][R].width-
Q.horizontal,f.geo.available[C][R].height-Q.vertical)).measure();S.size=Y.size;S.outerSize={height:Y.size.height+Q.vertical,width:Y.size.width+Q.horizontal};S.fits="natural"==ca?f.geo.available[C][R].width>=S.outerSize.width&&f.geo.available[C][R].height>=S.outerSize.height?!0:!1:Y.fits;"window"==C&&(S.whole=S.fits?"top"==R||"bottom"==R?f.geo.origin.windowOffset.right>=n.__options.minIntersection&&f.geo.window.size.width-f.geo.origin.windowOffset.left>=n.__options.minIntersection:f.geo.origin.windowOffset.bottom>=
n.__options.minIntersection&&f.geo.window.size.height-f.geo.origin.windowOffset.top>=n.__options.minIntersection:!1);x.push(S);if(S.whole)E=!0;else if("natural"==S.mode&&(S.fits||S.size.width<=f.geo.available[C][R].width))return!1}})}});n.__instance._trigger({edit:function(z){x=z},event:d,helper:f,results:x,type:"positionTested"});x.sort(function(z,C){if(z.whole&&!C.whole)return-1;if(!z.whole&&C.whole)return 1;if(z.whole&&C.whole){var K=n.__options.side.indexOf(z.side);C=n.__options.side.indexOf(C.side);
return K<C?-1:K>C?1:"natural"==z.mode?-1:1}return z.fits&&!C.fits?-1:!z.fits&&C.fits?1:z.fits&&C.fits?(K=n.__options.side.indexOf(z.side),C=n.__options.side.indexOf(C.side),K<C?-1:K>C?1:"natural"==z.mode?-1:1):"document"==z.container&&"bottom"==z.side&&"natural"==z.mode?-1:1});var A=x[0];A.coord={};switch(A.side){case "left":case "right":A.coord.top=Math.floor(A.target-A.size.height/2);break;case "bottom":case "top":A.coord.left=Math.floor(A.target-A.size.width/2)}switch(A.side){case "left":A.coord.left=
f.geo.origin.windowOffset.left-A.outerSize.width;break;case "right":A.coord.left=f.geo.origin.windowOffset.right+A.distance.horizontal;break;case "top":A.coord.top=f.geo.origin.windowOffset.top-A.outerSize.height;break;case "bottom":A.coord.top=f.geo.origin.windowOffset.bottom+A.distance.vertical}"window"==A.container?"top"==A.side||"bottom"==A.side?0>A.coord.left?A.coord.left=0<=f.geo.origin.windowOffset.right-this.__options.minIntersection?0:f.geo.origin.windowOffset.right-this.__options.minIntersection-
1:A.coord.left>f.geo.window.size.width-A.size.width&&(A.coord.left=f.geo.origin.windowOffset.left+this.__options.minIntersection<=f.geo.window.size.width?f.geo.window.size.width-A.size.width:f.geo.origin.windowOffset.left+this.__options.minIntersection+1-A.size.width):0>A.coord.top?A.coord.top=0<=f.geo.origin.windowOffset.bottom-this.__options.minIntersection?0:f.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:A.coord.top>f.geo.window.size.height-A.size.height&&(A.coord.top=f.geo.origin.windowOffset.top+
this.__options.minIntersection<=f.geo.window.size.height?f.geo.window.size.height-A.size.height:f.geo.origin.windowOffset.top+this.__options.minIntersection+1-A.size.height):(A.coord.left>f.geo.window.size.width-A.size.width&&(A.coord.left=f.geo.window.size.width-A.size.width),0>A.coord.left&&(A.coord.left=0));n.__sideChange(v,A.side);f.tooltipClone=v[0];f.tooltipParent=n.__instance.option("parent").parent[0];f.mode=A.mode;f.whole=A.whole;f.origin=n.__instance._$origin[0];f.tooltip=n.__instance._$tooltip[0];
delete A.container;delete A.fits;delete A.mode;delete A.outerSize;delete A.whole;A.distance=A.distance.horizontal||A.distance.vertical;a=c.extend(!0,{},A);n.__instance._trigger({edit:function(z){A=z},event:d,helper:f,position:a,type:"position"});n.__options.functionPosition&&(a=n.__options.functionPosition.call(n,n.__instance,f,a))&&(A=a);G.destroy();if("top"==A.side||"bottom"==A.side){a="left";var O=A.target-A.coord.left;var U=A.size.width-this.__options.minIntersection}else a="top",O=A.target-A.coord.top,
U=A.size.height-this.__options.minIntersection;O<this.__options.minIntersection?O=this.__options.minIntersection:O>U&&(O=U);U=f.geo.origin.fixedLineage?f.geo.origin.windowOffset:{left:f.geo.origin.windowOffset.left+f.geo.window.scroll.left,top:f.geo.origin.windowOffset.top+f.geo.window.scroll.top};A.coord={left:U.left+(A.coord.left-f.geo.origin.windowOffset.left),top:U.top+(A.coord.top-f.geo.origin.windowOffset.top)};n.__sideChange(n.__instance._$tooltip,A.side);f.geo.origin.fixedLineage?n.__instance._$tooltip.css("position",
"fixed"):n.__instance._$tooltip.css("position","");n.__instance._$tooltip.css({left:A.coord.left,top:A.coord.top,height:A.size.height,width:A.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(a,O);n.__instance._$tooltip.appendTo(n.__instance.option("parent"));n.__instance._trigger({type:"repositioned",event:d,position:A})},__sideChange:function(d,f){d.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+
f)},__targetFind:function(d){var f={},a=this.__instance._$origin[0].getClientRects();1<a.length&&1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),a=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1));2>a.length?(f.top=Math.floor(d.geo.origin.windowOffset.left+d.geo.origin.size.width/2),f.bottom=f.top,f.left=Math.floor(d.geo.origin.windowOffset.top+d.geo.origin.size.height/2),f.right=f.left):(d=a[0],f.top=Math.floor(d.left+
(d.right-d.left)/2),d=2<a.length?a[Math.ceil(a.length/2)-1]:a[0],f.right=Math.floor(d.top+(d.bottom-d.top)/2),d=a[a.length-1],f.bottom=Math.floor(d.left+(d.right-d.left)/2),d=2<a.length?a[Math.ceil((a.length+1)/2)-1]:a[a.length-1],f.left=Math.floor(d.top+(d.bottom-d.top)/2));return f}}});return c});function isTourRunning(){return"undefined"!=typeof hopscotch&&hopscotch.getCurrTour()?!0:!1}
function showPointOfInterest(c,g,h){if(isTourRunning())return!0;try{if(h=$.extend({side:"top",openTooltipOn:null,isDismissed:function(){return isTooltipInLocalStorage(c)},onDismiss:function(){setTooltipInLocalStorage(c)},actionable:!1},h),!h.isDismissed()){try{$(c).tooltipster("destroy")}catch(l){}$(c).tooltipster({content:createPOIContent(c,g,h.onDismiss),theme:"tooltipster-light",interactive:!0,trigger:"custom",triggerClose:{click:h.actionable?!1:!0},restoration:"none",side:h.side});closeOpenTooltips();
h.openTooltipOn?h.openTooltipOn.tooltipster("show"):$(c).tooltipster("show");return!0}}catch(l){}return!1}
function showTooltip(c,g,h){try{h=$.extend({side:"top",openTooltipOn:null,actionable:!1,onDismiss:function(){}},h);try{$(c).tooltipster("destroy")}catch(l){}$(c).tooltipster({content:createPOIContent(c,g,h.onDismiss),theme:"tooltipster-light",interactive:!0,trigger:"custom",triggerClose:{click:h.actionable?!1:!0},restoration:"none",side:h.side});closeOpenTooltips();h.openTooltipOn?h.openTooltipOn.tooltipster("show"):$(c).tooltipster("show");return!0}catch(l){}return!1}
function createGotIt(c){return $("<a />",{"class":"nl-smallGrayButton",click:c,text:i18n("Got it")})}function createPOIContent(c,g,h){g=$("<div />",{html:g,css:{display:"inline-block"}});g=$("<div />",{"class":"sy-tooltip-content"}).append(g);var l=createGotIt(function(){h();$(c).tooltipster("hide")});g.append(l);return g}
function createUpgradeContent(c,g,h,l){var r=$("<div />",{html:h,css:{display:"inline-block"}});h=$("<div />",{"class":"sy-tooltip-content"}).append(r);var m=$("<a />",{"class":"upgradeLink",click:function(){showSignUpSubscribe(l);setTooltipUpgradeInLocalStorage(c);g.tooltipster("destroy")},text:i18n("Upgrade")});r.prepend("&nbsp;");r.prepend(m);r=createGotIt(function(){setTooltipUpgradeInLocalStorage(c);g.tooltipster("hide")});h.append(r);return h}
function createSigninContent(c,g,h,l){var r=$("<div />",{html:h,css:{display:"inline-block"}});h=$("<div />",{"class":"sy-tooltip-content"}).append(r);var m=$("<a />",{"class":"upgradeLink",click:function(){showSignUp(l);setTooltipSignupInLocalStorage(c);g.tooltipster("destroy")},text:i18n("Sign up")});r.prepend("&nbsp;");r.prepend(m);r=createGotIt(function(){setTooltipSignupInLocalStorage(c);g.tooltipster("hide")});h.append(r);return h}
function createUpgradeTooltipOnly(c,g,h,l,r,m){if(!m||!isTooltipUpgradeInLocalStorage(g)){g=createUpgradeContent(g,c,l,h);try{c.tooltipster("destroy")}catch(t){}c.tooltipster({content:g,theme:"tooltipster-light",interactive:!0,trigger:"custom",restoration:"none",side:null!=r?r:"left"});closeOpenTooltips();try{c.tooltipster("show")}catch(t){}return!0}return!1}
function createSignupTooltipOnly(c,g,h,l){g=createSigninContent(c,$(c),h,g);try{$(c).tooltipster("destroy")}catch(r){}$(c).tooltipster({content:g,theme:"tooltipster-light",trigger:"custom",interactive:!0,restoration:"none",side:null!=l?l:"left"});closeOpenTooltips();$(c).tooltipster("show");return!0}function createUpgradeTooltip(c,g,h,l){isTourRunning()||!1===createUpgradeTooltipOnly($(c),c,g,h,l)&&showSignUpSubscribe(g)}
function createUpgradeTooltip2(c,g,h,l,r){isTourRunning()||!1===createUpgradeTooltipOnly(c,g,h,l,r)&&showSignUpSubscribe(h)}function createSignupTooltip(c,g,h,l){isTourRunning()||0==createSignupTooltipOnly(c,g,h,l)&&showSignUp(g)}function isInLocalStorage(c,g){return getLocalStorage().getItem(c+g)}function setInLocalStorage(c,g){getLocalStorage().setItem(c+g,!0)}function isTooltipInLocalStorage(c){return isInLocalStorage("tooltip",c)}
function setTooltipInLocalStorage(c){setInLocalStorage("tooltip",c)}function isTooltipUpgradeInLocalStorage(c){return isInLocalStorage("tooltipUpgrade",c)}function setTooltipUpgradeInLocalStorage(c){setInLocalStorage("tooltipUpgrade",c)}function isTooltipSignupInLocalStorage(c){return isInLocalStorage("tooltipSignup",c)}function setTooltipSignupInLocalStorage(c){setInLocalStorage("tooltipSignup",c)}function closeOpenTooltips(){var c=$.tooltipster.instances();$.each(c,function(g,h){h.close()})}
$.browser.chrome=/chrome/.test(navigator.userAgent.toLowerCase());
!function(c){function g(d,f){if(!(this instanceof g))return d=new g(d,f),d.open(),d;this.id=g.id++;this.setup(d,f);this.chainCallbacks(g._callbackChain)}if("undefined"==typeof c)return void("console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery."));var h=[],l=function(d){return h=c.grep(h,function(f){return f!==d&&0<f.$instance.closest("body").length})},r=function(d,f){var a={};f=new RegExp("^"+f+"([A-Z])(.*)");for(var n in d){var w=n.match(f);w&&(w=(w[1]+w[2].replace(/([A-Z])/g,
"-$1")).toLowerCase(),a[w]=d[n])}return a},m={keyup:"onKeyUp",resize:"onResize"},t=function(d){c.each(g.opened().reverse(),function(){return d.isDefaultPrevented()||!1!==this[m[d.type]](d)?void 0:(d.preventDefault(),d.stopPropagation(),!1)})},B=function(d){if(d!==g._globalHandlerInstalled){g._globalHandlerInstalled=d;var f=c.map(m,function(a,n){return n+"."+g.prototype.namespace}).join(" ");c(window)[d?"on":"off"](f,t)}};g.prototype={constructor:g,namespace:"featherlight",targetAttr:"data-featherlight",
variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",loading:"",persist:!1,otherClose:null,beforeOpen:c.noop,beforeContent:c.noop,beforeClose:c.noop,afterOpen:c.noop,afterContent:c.noop,afterClose:c.noop,onKeyUp:c.noop,onResize:c.noop,type:null,contentFilters:"jquery image html ajax iframe text".split(" "),setup:function(d,f){"object"!=typeof d||0!=d instanceof
c||f||(f=d,d=void 0);var a=c.extend(this,f,{target:d});d=a.resetCss?a.namespace+"-reset":a.namespace;d=c(a.background||['<div class="'+d+"-loading "+d+'">','<div class="'+d+'-content">','<span class="'+d+"-close-icon "+a.namespace+'-close">',a.closeIcon,"</span>",'<div class="'+a.namespace+'-inner">'+a.loading+"</div>","</div></div>"].join(""));var n="."+a.namespace+"-close"+(a.otherClose?","+a.otherClose:"");return a.$instance=d.clone().addClass(a.variant),a.$instance.on(a.closeTrigger+"."+a.namespace,
function(w){var x=c(w.target);("background"===a.closeOnClick&&x.is("."+a.namespace)||"anywhere"===a.closeOnClick||x.closest(n).length)&&(a.close(w),w.preventDefault())}),this},getContent:function(){if(!1!==this.persist&&this.$content)return this.$content;var d=this.constructor.contentFilters,f=this.$currentTarget&&this.$currentTarget.attr(this.targetAttr),a=this.target||f||"",n=d[this.type];if(!n&&a in d&&(n=d[a],a=this.target&&f),a=a||this.$currentTarget&&this.$currentTarget.attr("href")||"",!n)for(var w in d)this[w]&&
(n=d[w],a=this[w]);if(!n){var x=a;if(a=null,c.each(this.contentFilters,function(){return n=d[this],n.test&&(a=n.test(x)),!a&&n.regex&&x.match&&x.match(n.regex)&&(a=x),!a}),!a)return"console"in window&&window.console.error("Featherlight: no content filter found "+(x?' for "'+x+'"':" (no target specified)")),!1}return n.process.call(this,a)},setContent:function(d){return(d.is("iframe")||0<c("iframe",d).length)&&this.$instance.addClass(this.namespace+"-iframe"),this.$instance.removeClass(this.namespace+
"-loading"),this.$instance.find("."+this.namespace+"-inner").not(d).slice(1).remove().end().replaceWith(c.contains(this.$instance[0],d[0])?"":d),this.$content=d.addClass(this.namespace+"-inner"),this},open:function(d){var f=this;if(f.$instance.hide().appendTo(f.root),!(d&&d.isDefaultPrevented()||!1===f.beforeOpen(d))){d&&d.preventDefault();var a=f.getContent();if(a)return h.push(f),B(!0),f.$instance.fadeIn(f.openSpeed),f.beforeContent(d),c.when(a).always(function(n){f.setContent(n);f.afterContent(d)}).then(f.$instance.promise()).done(function(){f.afterOpen(d)})}return f.$instance.detach(),
c.Deferred().reject().promise()},close:function(d){var f=this,a=c.Deferred();return!1===f.beforeClose(d)?a.reject():(0===l(f).length&&B(!1),f.$instance.fadeOut(f.closeSpeed,function(){f.$instance.detach();f.afterClose(d);a.resolve()})),a.promise()},chainCallbacks:function(d){for(var f in d)this[f]=c.proxy(d[f],this,c.proxy(this[f],this))}};c.extend(g,{id:0,autoBind:"[data-featherlight]",defaults:g.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(d){return d instanceof c&&d},process:function(d){return!1!==
this.persist?c(d):c(d).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp|svg)(\?\S*)?$/i,process:function(d){var f=c.Deferred(),a=new Image,n=c('<img src="'+d+'" alt="" class="'+this.namespace+'-image" />');return a.onload=function(){n.naturalWidth=a.width;n.naturalHeight=a.height;f.resolve(n)},a.onerror=function(){f.reject(n)},a.src=d,f.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(d){return c(d)}},ajax:{regex:/./,process:function(d){var f=c.Deferred(),a=c("<div></div>").load(d,
function(n,w){"error"!==w&&f.resolve(a.contents());f.fail()});return f.promise()}},iframe:{process:function(d){var f=new c.Deferred,a=c("<iframe/>").hide().attr("src",d).css(r(this,"iframe")).on("load",function(){f.resolve(a.show())}).appendTo(this.$instance.find("."+this.namespace+"-content"));return f.promise()}},text:{process:function(d){return c("<div>",{text:d})}}},functionAttributes:"beforeOpen afterOpen beforeContent afterContent beforeClose afterClose".split(" "),readElementConfig:function(d,
f){var a=this,n=new RegExp("^data-"+f+"-(.*)"),w={};return d&&d.attributes&&c.each(d.attributes,function(){var x=this.name.match(n);if(x){var v=this.value;x=c.camelCase(x[1]);if(0<=c.inArray(x,a.functionAttributes))v=new Function(v);else try{v=c.parseJSON(v)}catch(G){}w[x]=v}}),w},extend:function(d,f){var a=function(){this.constructor=d};return a.prototype=this.prototype,d.prototype=new a,d.__super__=this.prototype,c.extend(d,this,f),d.defaults=d.prototype,d},attach:function(d,f,a){var n=this;"object"!=
typeof f||0!=f instanceof c||a||(a=f,f=void 0);a=c.extend({},a);var w,x=c.extend({},n.defaults,n.readElementConfig(d[0],a.namespace||n.defaults.namespace),a);return d.on(x.openTrigger+"."+x.namespace,x.filter,function(v){var G=c.extend({$source:d,$currentTarget:c(this)},n.readElementConfig(d[0],x.namespace),n.readElementConfig(this,x.namespace),a),E=w||c(this).data("featherlight-persisted")||new n(f,G);"shared"===E.persist?w=E:!1!==E.persist&&c(this).data("featherlight-persisted",E);G.$currentTarget.blur();
E.open(v)}),d},current:function(){var d=this.opened();return d[d.length-1]||null},opened:function(){var d=this;return l(),c.grep(h,function(f){return f instanceof d})},close:function(d){var f=this.current();return f?f.close(d):void 0},_onReady:function(){var d=this;d.autoBind&&(c(d.autoBind).each(function(){d.attach(c(this))}),c(document).on("click",d.autoBind,function(f){f.isDefaultPrevented()||"featherlight"===f.namespace||(f.preventDefault(),d.attach(c(f.currentTarget)),c(f.target).trigger("click.featherlight"))}))},
_callbackChain:{onKeyUp:function(d,f){return 27===f.keyCode?(this.closeOnEsc&&c.featherlight.close(f),!1):d(f)},onResize:function(d,f){if(this.$content.naturalWidth){var a=this.$content.naturalWidth,n=this.$content.naturalHeight;this.$content.css("width","").css("height","");var w=Math.max(a/parseInt(this.$content.parent().css("width"),10),n/parseInt(this.$content.parent().css("height"),10));1<w&&this.$content.css("width",""+a/w+"px").css("height",""+n/w+"px")}return d(f)},afterContent:function(d,
f){d=d(f);return this.onResize(f),d}}});c.featherlight=g;c.fn.featherlight=function(d,f){return g.attach(this,d,f)};c(document).ready(function(){g._onReady()})}(jQuery);
(function(){var c,g;if(c={version:"2.3.3",name:"jQuery-runner"},g=this.jQuery||this.Zepto||this.$,!g||!g.fn)throw Error("["+c.name+"] jQuery or jQuery-like library is required for this plugin to work");var h={};var l=function(f){return(10>f?"0":"")+f};var r=1;var m=function(){return"runner"+r++};var t=function(f,a){return f["r"+a]||f["webkitR"+a]||f["mozR"+a]||f["msR"+a]||function(n){return setTimeout(n,30)}}(this,"equestAnimationFrame");var B=function(f,a){var n,w,x;a=a||{};var v=[36E5,6E4,1E3,10];
var G=["",":",":","."];var E=n="";var A=a.milliseconds;var O=v.length;0>f&&(f=Math.abs(f),n="-");a=w=0;for(x=v.length;x>w;a=++w){var U=v[a];var z=0;f>=U&&(z=Math.floor(f/U),f-=z*U);(z||1<a||E)&&(a!==O-1||A)&&(E+=(E?G[a]:"")+l(z))}return n+E};var d=function(){function f(a,n,w){var x;return this instanceof f?(this.items=a,x=this.id=m(),this.settings=g.extend({},this.settings,n),h[x]=this,a.each(function(v,G){g(G).data("runner",x)}),this.value(this.settings.startAt),void((w||this.settings.autostart)&&
this.start())):new f(a,n,w)}return f.prototype.running=!1,f.prototype.updating=!1,f.prototype.finished=!1,f.prototype.interval=null,f.prototype.total=0,f.prototype.lastTime=0,f.prototype.startTime=0,f.prototype.lastLap=0,f.prototype.lapTime=0,f.prototype.settings={autostart:!1,countdown:!1,stopAt:null,startAt:0,milliseconds:!0,format:null},f.prototype.value=function(a){this.items.each(function(n){return function(w,x){w=g(x);x=w.is("input")?"val":"text";w[x](n.format(a))}}(this))},f.prototype.format=
function(a){var n;return n=this.settings.format,(g.isFunction(n)?n:B)(a,this.settings)},f.prototype.update=function(){var a,n,w,x,v;this.updating||(this.updating=!0,w=this.settings,v=g.now(),x=w.stopAt,a=w.countdown,n=v-this.lastTime,this.lastTime=v,a?this.total-=n:this.total+=n,null!==x&&(a&&this.total<=x||!a&&this.total>=x)&&(this.total=x,this.finished=!0,this.stop(),this.fire("runnerFinish")),this.value(this.total),this.updating=!1)},f.prototype.fire=function(a){this.items.trigger(a,this.info())},
f.prototype.start=function(){var a;this.running||(this.running=!0,(!this.startTime||this.finished)&&this.reset(),this.lastTime=g.now(),a=function(n){return function(){n.running&&(n.update(),t(a))}}(this),t(a),this.fire("runnerStart"))},f.prototype.stop=function(){this.running&&(this.running=!1,this.update(),this.fire("runnerStop"))},f.prototype.toggle=function(){this.running?this.stop():this.start()},f.prototype.lap=function(){var a,n;return n=this.lastTime,a=n-this.lapTime,this.settings.countdown&&
(a=-a),(this.running||a)&&(this.lastLap=a,this.lapTime=n),n=this.format(this.lastLap),this.fire("runnerLap"),n},f.prototype.reset=function(a){a&&this.stop();a=g.now();"number"!=typeof this.settings.startAt||this.settings.countdown||(a-=this.settings.startAt);this.startTime=this.lapTime=this.lastTime=a;this.total=this.settings.startAt;this.value(this.total);this.finished=!1;this.fire("runnerReset")},f.prototype.info=function(){var a;return a=this.lastLap||0,{running:this.running,finished:this.finished,
time:this.total,formattedTime:this.format(this.total),startTime:this.startTime,lapTime:a,formattedLapTime:this.format(a),settings:this.settings}},f}();g.fn.runner=function(f,a,n){var w,x;switch(f||="init","object"==typeof f&&(n=a,a=f,f="init"),w=this.data("runner"),x=w?h[w]:!1,f){case "init":new d(this,a,n);break;case "info":if(x)return x.info();break;case "reset":x&&x.reset(a);break;case "lap":if(x)return x.lap();break;case "start":case "stop":case "toggle":if(x)return x[f]();break;case "version":return c.version;
default:g.error("["+c.name+"] Method "+f+" does not exist")}return this};g.fn.runner.format=B}).call(this);var syAjaxRunning=!1;$(document).ajaxStart(function(){syAjaxRunning=!0});$(document).ajaxStop(function(){syAjaxRunning=!1});$(document).ajaxError(function(c,g,h,l){403==g.status&&(window.location="/expirationPassed?api="+h.url+"&from="+window.location.href)});String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};
String.prototype.replaceAt=function(c,g){return this.substr(0,c)+g+this.substr(c+1)};String.prototype.pluralize=function(c){return 1==Math.abs(c)?this:this+"s"};
function symbolab_log(c,g,h,l,r){l||=null;r||=null;if(h&&"string"===typeof h&&h.startsWith("MobileWeb")){if("undefined"==typeof OS||""===OS)OS="Unknown";h=OS+"_"+h}"undefined"!=typeof sy_var&&"Registration"===c&&h&&(h="Var"+sy_var+"\t"+h);window.navigator.sendBeacon("/detailedLogBeacon",JSON.stringify({type:c,info1:g,info2:h,query:l,origin:r}))}function amp_log(c,g,h){return $.ajax({type:"POST",url:"/ampLog",data:{event:c,data:g,force:h}})}var NoLocalStorage=function(){};
NoLocalStorage.prototype={getItem:function(){return null},setItem:function(){},removeItem:function(){}};var lsObj=new NoLocalStorage;function getLocalStorage(){return null==localStorage?lsObj:localStorage}function syMenu(c,g){g=g.replace("/solver/","");symbolab_log("Solutions","Menu"+c,SOLUTIONS.page+"=>"+g)}
function prepareQueryForMathQuill(c){if(void 0==c)return c;c=c.replace(/operatorname/g,"text");c=c.replace(/\\(\w+?)\s+(?={|_|\^|\(|\\)/g,"\\$1");c=c.replace(/\\,/g," ");c=c.replace(/(, |,\\:|,)/g,",\\:");0<=c.indexOf("\\{")&&(c=c.replace(/\{\\space\}/g,"\\space"),c=c.replace(/\\left\s*\\\{/g,"\\{"),c=c.replace(/\\\{/g,"\\left\\{"),c=c.replace(/\\right\s*\\\}/g,"\\}"),c=c.replace(/\\\}/g,"\\right\\}"),c=c.replace(/\\space}/g,"{\\space}"));c=c.replace(/\\vec\{(.+?)\}/g,"\\vec{$1 }");c=c.replace(/\\hat\{(.+?)\}/g,
"\\hat{$1 }");c=c.replace(/ /g,"#");return c=c.replace(/</g,"\\lt ").replace(/>/g,"\\gt ")}function prepareQueryForMathQuillAndCollectWords(c){c=prepareQueryForMathQuill(c);return c=c.replace(/\\mathrm{([^(}]+)}/ig,function(g,h,l){g=h.split(/\s|\\:/).filter(function(r){return""!==r}).join("}\\:\\mathrm{");h.endsWith("\\:")&&(g+="\\:");h="";0<l&&(h=" ");return h+"\\mathrm{"+g+"} "})}
function getWidth(c,g){var h=0;if(c.hasClass("block")||c.hasClass("numerator")||c.hasClass("denominator"))c.children().each(function(){h+=getWidth($(this),g)});else{if(c.hasClass("fraction")){var l=getWidth($(c.children()[0]),g);c=getWidth($(c.children()[1]),g);return Math.max(l+10,c+10)}c.hasClass("roman")?g&&c.children().each(function(){h+=$(this).outerWidth()}):h=c.outerWidth()}return h}
function getActualWidth(c,g){var h=0;$(c).find(".mathquill-embedded-latex").children().each(function(){$(this).is(":visible:not(.selectable)")&&(h+=getWidth($(this),g))});return h*=1.1}function getGraphInputWidth(c){var g=0;$(c).children().each(function(){$(this).is(":visible:not(.selectable)")&&(g+=getWidth($(this),!0))});return g*=1.1}
function createScrollForce(c,g,h){if(g||h){var l=$('<div class="scrollContent" style="background: transparent"></div>');g&&($(c).hasClass("solution_scrollable")?l.css("max-width",g+"px"):l.width(g));h&&l.height(h);$(c).children().wrap(l);$(c).addClass("syscrollable");$(c).find(".mathquill-embedded-latex").mathquill("redraw")}}
function createTableArray(c){c=c.replace("\\quad \\quad","");c=c.replace("\\begin{array}","");var g=!1;0<c.indexOf("\\summaryline")&&(c=c.replace("\\summaryline",""),g=!0);c=c.replace("\\end{array}","");c=c.replace(/{\|(c\|)+}/ig,"");c=c.replace(/\\hline\s*/gi," ");var h=$("<div style='overflow-x: auto;'></div>"),l=$("<table class='tableMatrix'></table>");c=c.split("\\\\");c.pop();for(var r,m=0;m<c.length;m++){var t=c[m];r=$("<tr></tr>");t=t.split("&");for(var B=0;B<t.length;B++){var d=t[B],f=$("<span class='mathquill-embedded-latex'></span>");
f.text(d);d=$("<td class='syME'></td>");d.append(f);r.append(d)}g&&m===c.length-1&&(r.css("background-color","#f5f5f5"),r.css("color","black"));l.append(r)}h.append(l);return h}
function createTable(c){c=c.replace("\\quad \\quad","");c=c.replace("\\begin{table}","");var g=!1;0<c.indexOf("\\summaryline")&&(c=c.replace("\\summaryline",""),g=!0);c=c.replace("\\end{table}","");var h=$("<div style='overflow-x: auto;'></div>"),l=$("<table class='tableMatrix'></table>");c=c.split("\\\\");c.pop();for(var r,m=0;m<c.length;m++){var t=c[m];r=$("<tr></tr>");t=t.split("&");t.pop();for(var B=0;B<t.length;B++){var d=t[B],f=$("<span class='mathquill-embedded-latex'></span>");f.text(d);d=
$("<td class='syME'></td>");d.append(f);r.append(d)}g&&m==c.length-1&&(r.css("background-color","#f5f5f5"),r.css("color","black"));l.append(r)}h.append(l);return h}
function createMathquillSpan(c,g,h){if(void 0===g)return $("<span></span>");"string"!==typeof g&&(g=g.text.createdText);var l=g.split("<br/>");if(1===l.length){if(0<=g.indexOf("\\begin{table}"))var r=createTable(g);else 0<=g.indexOf("\\begin{array}")?r=createTableArray(g):(g=prepareQueryForMathQuill(g),r=$('<span class="'+c+' mathquill-embedded-latex"></span>'),r.text(g));h&&$(r).prop("title",h)}else{r=$('<div class="multi-line-span"></div>');for(var m in l)g=createMathquillDiv(c,l[m]),g.addClass("multiline"),
r.append(g)}return r}function createMathquillDiv(c,g,h,l){const r=$('<div class="'+c+'"></div>');if(l){const m=$("<div>",{class:"mathquill-container"});g.split(/(\$\$.*?\$\$)/g).filter(t=>0!==t.trim().length).forEach(t=>{t.startsWith("$$")?m.append(this.createMathquillSpan("",t,h)):m.append(`<span class="text-only">${t}</span>`)});if(null===c)return m;r.append(m)}else r.append(this.createMathquillSpan("",g,h));return r}
function createMathquillDiv2(c,g,h){c=$('<div class="'+c+'"></div>');c.append(this.createMathquillSpan("",g,h));c.find(".mathquill-embedded-latex:not(.mathquill-rendered-math)").each(function(){$(this).mathquill()});return c}function mathquillify(c){c.find(".mathquill-embedded-latex:not(.mathquill-rendered-math)").each(function(){$(this).mathquill()})}function mathquillifyRedrawOnly(c){c.find(".mathquill-embedded-latex.mathquill-rendered-math").each(function(){$(this).mathquill("redraw")})}
function mathquillifyVisible(c){c.find(".mathquill-embedded-latex:not(.mathquill-rendered-math)").each(function(){var g=$(this);g.is(":visible")&&g.mathquill()})}
$(function(){const c=(new Date(2023,9,31)).getTime();var g=(new Date(2023,11,15)).getTime();const h=readCookie("sy.privacyAcceptDate"),l=$(".nl-cookiepolicy");let r=!1;const m=(new Date).getTime();if(m>=g)r=!1;else if(h){if(g=parseInt(h),isNaN(g)||g<c)r=!0}else 0>window.location.pathname.indexOf("privacy")&&0>window.location.pathname.indexOf("cookie")&&(r=!0);r&&l.show();$(".privacy-policy").click(function(){allowedCookieGroups("C0003")&&createCookie("sy.privacyAcceptDate",m,30);$(".nl-cookiepolicy").remove()});
$("#save-as-bookmark.sign-in-button").click(function(){showSignIn("AvatarClicked","NotebookStickie")});$("#userName,div#avatar").click(function(){showSignIn("AvatarClicked","Avatar")});$(":not(#save-as-bookmark):not(#user-name).sign-in-button").click(function(){showSignIn("AvatarClicked")});$("#HomeTopNav span").off("click").on("click",()=>{getLocalStorage().setItem("linkOrigin","header");window.location.href="/"});$("#graphingNav a.gc-examples").off("click").on("click",t=>{0<=window.location.href.indexOf("/graphing-calculator")&&
(t.preventDefault(),window.location.href=$(t.currentTarget).attr("href"),window.location.reload())});$("#geometryNav a.geo-examples").off("click").on("click",t=>{0<=window.location.href.indexOf("/geometry-calculator")&&(t.preventDefault(),window.location.href=$(t.currentTarget).attr("href"),window.location.reload())});$("#solution_page #nl-subNav a").click(function(t){t.preventDefault();t=$(this).attr("href");getLocalStorage().setItem("linkOrigin","solverTop");window.location=t});$(".nl-navAction.notifications").click(function(){$(".nl-notificationsBox").toggle();
$(".nl-notificationsBox").mathquill("redraw");$(".nl-notificationsBox").is(":visible")&&($(".newNotifications").removeClass("newNotifications"),$.ajax({type:"POST",url:"/api/notification/seen",beforeSend:authorizeAjaxWithSyToken}));return!1});$("select.classification").change(function(t){t=$(this).parent();var B=$(this).attr("id"),d=$(this).val();B=$("#"+(B+"-"+d));t.children(" select.subclass").addClass("hidden");t.children(" select.subclass").attr("disabled","disabled");1<B.children().size()&&(B.removeClass("hidden"),
B.removeAttr("disabled"))});$("a.more").click(function(t){t.preventDefault();var B=this;$(B).parent().next().toggle(function(){var d=$(B).data("previous-text"),f=$(B).text();$(B).text(d);$(B).data("previous-text",f);0>window.location.href.indexOf("team")&&$("#SearchExamples").find(".mathquill-embedded-latex").mathquill("redraw")})});ensureCorrectLightsOut();$("body").off("click","#nl-mainNav li > a").on("click","#nl-mainNav li > a",function(t){t.preventDefault();0<$(t.target).closest($("#studyToolsNav > a")).length||
(t=$(this).attr("href"),getLocalStorage().setItem("linkOrigin","header"),window.location=t)});$("body").off("click","#nl-mainNav li .whiteDropdown a").on("click","#nl-mainNav li .whiteDropdown a",function(t){t.preventDefault();t=$(this).attr("href");getLocalStorage().setItem("linkOrigin","header");window.location=t});$("body").off("click","[data-link-origin] a").on("click","[data-link-origin] a",t=>{t.preventDefault();t=$(t.currentTarget);const B=t.closest("[data-link-origin]");getLocalStorage().setItem("linkOrigin",
B.data("link-origin"));window.location=t.attr("href")});document.addEventListener("click",function(){$(".nl-notificationsBox").hide()})});function isMobileRender(){return"undefined"!=typeof isMobileRendering&&isMobileRendering}function isPopularSearch(){return 0<=window.location.href.indexOf("/popular")}
function showUpgradeMessage(){"undefined"!=typeof mobileWeb&&mobileWeb?"iOS"===OS?confirm("Download the app to see steps. Redirect to App Store?")&&(window.location="https://itunes.apple.com/app/id876942533"):"Android"===OS&&confirm("Download the app to see steps. Redirect to Google Play?")&&(window.location="https://play.google.com/store/apps/details?id=com.devsense.symbolab"):window.location.href="/upgradeVersion"}
function parseQueryParameters(c){for(var g,h=/([^&=]+)=?([^&]*)/g,l=window.location.search.substring(1);g=h.exec(l);)c[decodeURIComponent(g[1])]=decodeURIComponent(g[2])}$.extend($.expr[":"],{"starts-with":function(c,g,h,l){return 0===$.trim($(c).text()).indexOf(h[3])},"ends-with":function(c,g,h,l){c=$.trim($(c).text());h=h[3];return c.lastIndexOf(h)===c.length-h.length}});
function changeLanguage(c,g){var h=location.hostname;h=h.replace(g+".","");h=h.replace("www.","");g=80==location.port?"":":"+location.port;c="en"==$(c).attr("data")?"www.":$(c).attr("data")+".";window.location="http://"+c+h+g+"/solver"}
function showSignIn(c,g,h){registrationReason=c;googleIsSignUp=!1;getLocalStorage().setItem("registrationReason",c);void 0===g&&symbolab_log("Registration","ShowSignIn",registrationReason);getLocalStorage().setItem("beforeSubs",1);showSignUp(void 0!==g?g:"TopMenu",h)}function showSignUpSubscribe(c,g,h){sy_pSub?resumeSubscription(c,g):isUserLoggedIn()?showSubscription(c,g):showSignUp(c,g,h)}
function bookImageError(c){c.onerror="";$(c).hide();var g=$("<p><a href = '"+c.src+"'>Click here to view image</a></p>");$(c).parent().append(g);return!0}function pickLanguage(c){symbolab_log("General","UserSwitchLang",c)}
function loadScript(c){if(0<$('script[src="'+c+'"]').length)return $.Deferred().resolve();var g=$.Deferred(),h=document.createElement("script");h.async=!0;h.type="text/javascript";h.src=c;h.onload=h.onreadystatechange=function(l,r){if(!h.readyState||/loaded|complete/.test(h.readyState))r?g.reject():g.resolve()};h.onerror=function(){g.reject()};$("head")[0].appendChild(h);return g.promise()}
async function loadScriptAsync(c){if(0<$('script[src="'+c+'"]').length)return Promise.resolve();await new Promise((g,h)=>{const l=document.createElement("script");l.async=!0;l.type="text/javascript";l.src=c;l.onload=l.onreadystatechange=function(r,m){if(!l.readyState||/loaded|complete/.test(l.readyState))m?h():g()};l.onerror=h;$("head")[0].appendChild(l)})}
function showGeneratePdf(){$(".nl-generatePdf").removeClass("nl-hidden");$.featherlight(".nl-generatePdf");return $.when(loadScript("/public/auto/jspdf.debug.min.js")).pipe(function(){return $.when(loadScript("/public/auto/html2canvas2.min.js"))})}
function showFeedback(c,g,h){$(".nl-signInContainer>div").addClass("nl-hidden");$(".nl-feedback-modal").removeClass("nl-hidden");$.featherlight(".nl-signInContainer");c&&($(".featherlight-content .nl-feedback-modal h2").text(i18n("js.How can we help you?")),$(".featherlight-content .nl-feedback-modal #inputName").val(g),$(".featherlight-content .nl-feedback-modal #inputEmail").val(h))}
function getRegistrationUrl(c,g,h,l){let r="",m=window.location.href;if(m.includes("/registration#")||m.includes("/registration?")){var t=m.split("#")[1]||m.split("?")[1]||"";(t=(new URLSearchParams(t)).get("url"))&&(m=decodeURIComponent(t))}void 0!==h&&(r=h,r=0<=m.indexOf("?")?"&"+r:"?"+r);h=Object.entries(l||{}).map(B=>B.join("=")).reduce((B,d)=>B+"&"+d,"");return"/registration#flow="+c+h+"&url="+encodeURIComponent(m+r)+"&reason="+encodeURIComponent(g)}
function showSignUp(c,g,h){var l=c.split("\t");0<=l.indexOf("LockedStep")?window.location=getRegistrationUrl("lock",c,g,h):0<=l.indexOf("Graphing")||0<=l.indexOf("Solver")?window.location=getRegistrationUrl("upgrade",c,g,h):0<=l.indexOf("AI_Chat")?window.location=getRegistrationUrl("upgrade",c,g,h):0<=l.indexOf("SolverSaveNote")?window.location=getRegistrationUrl("notebook",c,h):0<=l.indexOf("GraphSave")?window.location=getRegistrationUrl("signup",c,g,h):0<=l.indexOf("qbbundle")?window.location=getRegistrationUrl("qbbundle",
c,g,h):0<=l.indexOf("promo")?window.location=getRegistrationUrl("upgrade",c,g,h):window.location=getRegistrationUrl("signup",c,h)}function sendCourseHeroLink(){return $.ajax({type:"POST",url:"/requestChEmail",data:{origin:window.location.origin,sourceURL:window.location.href},beforeSend:authorizeAjaxWithSyToken})}function showSubscription(c,g){const h=getRegistrationUrl("upgrade",c,g);"iOS"===OS?setTimeout(()=>{window.location=h},100):window.location=h}
function showSubscriptionWithSkipButton(c){let g=getRegistrationUrl("upgrade",c,"");g+="&skip=true";"iOS"===OS?setTimeout(()=>{window.location=g},100):window.location=g}function showGroupLicense(c){$(".nl-signInContainer>div").addClass("nl-hidden");$(".nl-groupLicense").removeClass("nl-hidden");$.featherlight(".nl-signInContainer");setSelectedSubscriptionOption($("td.subscribeOption:visible").last());renderPaypalGroupButton(c,"todo: clean the code")}
function renderPaypalGroupButton(c,g){loadScript("https://www.paypal.com/sdk/js?client-id="+g+"&currency=USD").done(function(){paypal.Buttons({style:{shape:"pill",color:"gold"},createOrder:function(h,l){h=getGroupOrder(c);return l.order.create(h)},onApprove:paypalOnApprove,onCancel:paypalOnCancel,onError:paypalOnError}).render(".featherlight-content .nl-groupLicense #group-payment-paypal-button")})}
function getFixedStepsFormatAPI(c){for(var g=[],h=0;h<c.length;h++){var l=c[h];if("interim"===l.type)g.push(l);else if(null!=l.steps&&1<l.steps.length){for(var r=0;r<l.steps.length;r++)g.push(l.steps[r]);l.entire_result&&g.push({entire_result:l.entire_result})}else g.push(l)}return g}
function getFixedStepsFormat(c){for(var g=[],h=0;h<c.length;h++){var l=c[h];if(l.isInterimStep)g.push(l);else if(null!=l.steps&&1<l.steps.length){for(var r=0;r<l.steps.length;r++)g.push(l.steps[r]);l.entire_result&&g.push({entire_result:l.entire_result})}else g.push(l)}return g}
function createAndShowTooltipTimout(c,g,h,l){$(c).tooltipster({content:g,theme:"tooltipster-light",side:l,restoration:"none",trigger:"custom"});$(".sy-tooltip-close-icon:visible").click();$(c).tooltipster("show");setTimeout(function(){$(c).tooltipster("destroy")},h)}function removeUserSettings(){getLocalStorage().removeItem("settings.printGraph")}
function removeUserInfo(){getLocalStorage().removeItem("udid");getLocalStorage().removeItem("firstName");getLocalStorage().removeItem("sy.udid");getLocalStorage().removeItem("sy.firstName")}function logoutWithConfirm(){dialogify().message(i18n("confirm logout")).okButtonText(i18n("Logout")).image("#leave-challenge").okButtonHandler(()=>{logout()}).showOkCancelDialog()}function logout(c){c&&(c.preventDefault(),c.stopPropagation());removeAllUserInfo();window.location="/logout"}
function removeAllUserInfo(){removeUserSettings();removeUserInfo()}function logUserOutWithoutRedirect(){removeAllUserInfo(void 0);return $.ajax({data:{isMobile:!0},url:"/logout",type:"GET"})}
function refreshLeftNavbarHeight(){var c=$(".nl-content:visible").height(),g=$(".nl-pageContent").height();c=Math.max(g,c);0<c&&($("head #navbarStyle").remove(),$("head").append($("<style id='navbarStyle'>.nl-leftNav { min-height: "+(c+110)+"px; }</style>")),$("head").append($("<style id='navbarStyle'>.sidebar-content { min-height: "+(c+100)+"px; }</style>")))}
function prepareGeometryForReload(){return"undefined"!=typeof SYGEO?SYGEO.doShareCreateRequest().then(function(c){SYGEO.userIsLoggingIn=!0;return"temporaryShare="+c._id}):Promise.reject()}
$(function(){function c(){var m=$(".nl-autocomplete");m.empty();m.hide()}function g(){return window.location.pathname.indexOf("/solver")?"Solver":window.location.pathname.indexOf("/graphing-calculator")?"Graphing":window.location.pathname.indexOf("/notebook")?"Notebook":window.location.pathname.indexOf("/practice")?"Practice":window.location.pathname.indexOf("/calculator")?"Calculators":window.location.pathname}function h(m){m.addClass("nl-disabled");var t=$.Deferred();symbolab_log("Registration",
"SignInAttempt-Email",registrationReason);$.ajax({type:"POST",url:"/login",data:{email:$(".featherlight-content #signin_email").val(),password:$(".featherlight-content #signin_password").val(),url:window.location.href,registrationReason},success:function(B){B.alert?($(".nl-signInWithText .nl-error").text(B.alert),$(".nl-signInWithText .nl-error").show(),m.removeClass("nl-disabled"),t.reject()):prepareGeometryForReload().then(function(d){location.hash=d;t.resolve()},function(){t.resolve()})},error:function(){m.removeClass("nl-disabled");
t.reject()}});$.whenAll(t).done(function(){location.reload()})}1==getLocalStorage().getItem("beforeSubs")&&getLocalStorage().removeItem("beforeSubs");$.featherlight.defaults.afterClose=function(m){$(".nl-signInContainer>div").addClass("nl-hidden")};$(".nl-search").click(function(m){var t=$(".nl-searchContainer input");$(m.originalEvent.target).is(t)||(t.val(""),m=$("#nl-mainNav"),m.toggleClass("nl-searchOpen"),m.hasClass("nl-searchOpen")&&(t.focus(),"/"===window.location.pathname?symbolab_log("General",
"Subject Search Open Homepage"):symbolab_log("General","Subject Search Open")),c())});$("body").click(function(m){$("#nl-mainNav").hasClass("nl-searchOpen")&&0===$(m.originalEvent.target).parents(".nl-search").length&&c()});$(".nl-searchClose").click(function(m){m.preventDefault();m.stopPropagation();$(".nl-search").css({width:40});$(".nl-autocomplete").empty();$(".nl-autocomplete").hide();setTimeout(function(){$("#nl-mainNav").removeClass("nl-searchOpen");$(".nl-search").removeAttr("style")},200)});
var l=!1;$("#nl-searchField").keyup(function(){if(!l){l=!0;var m=$(".nl-searchContainer input").val();$.ajax({type:"GET",url:"/suggestSubjects",data:{query:m,language:"en",type:0<=window.location.href.indexOf("/practice/")?"Practice":"Solutions"},success:function(t){if(null==t||0==t.length)$(".nl-autocomplete").hide();else{$(".nl-autocomplete").empty();for(var B=null,d=0;d<t.length;d++){var f=t[d];f.type!=B&&($(".nl-autocomplete").append("<div class='type'>"+f.type+"</div>"),B=f.type);f.display=f.display.replace(/'/,
"&apos;");var a='getLocalStorage().setItem("linkOrigin", "SubjectSearch"); window.location="'+f.search+'";';$(".nl-autocomplete").append("<div class='result' onclick='"+a+"'>"+f.display+"</div>")}$(".nl-autocomplete").fadeIn()}l=!1}})}});$("#fbCancelBtn").click(function(){$.featherlight.current().close();$(".nl-signInContainer>div").addClass("nl-hidden")});$("#fbSendBtn").click(function(){var m={};m.name=$(".featherlight-content .nl-feedback-modal #inputName").val();m.email=$(".featherlight-content .nl-feedback-modal #inputEmail").val();
m.message=$(".featherlight-content .nl-feedback-modal #inputMessage").val();m.url=window.location.href;m.referrer=document.referrer;"undefined"!=typeof SYPRACTICE&&(m.subject=SYPRACTICE.subject,m.topic=SYPRACTICE.topic,m.subTopic=SYPRACTICE.subTopic,m.problem=SYPRACTICE.problemInfo.problem.problemTranslation);"undefined"!=typeof SYGEO&&(m.problem="Geometry problem ID: "+SYGEO.problemId);"undefined"!=typeof syUnsubscribe&&symbolab_log("Registration","ClickedFeature",`NewUnsubscribe\t${syUnsubscribe.planType}\tHelpSent`);
m.message?($.ajax({type:"POST",url:"/feedback",beforeSend:authorizeAjaxWithSyToken,data:m}),$(".featherlight-content .nl-feedback-modal .alert-error").hide(),$(".featherlight-content .nl-feedback-modal .alert-success").show(),setTimeout(function(){$.featherlight.current().close();$(".nl-signInContainer>div").addClass("nl-hidden")},2E3),$(".featherlight-content .nl-feedback-modal #fbSendBtn").addClass("nl-disabled")):$(".featherlight-content .nl-feedback-modal .alert-error").show()});$(".nl-languagesMenu a").click(function(m){m.preventDefault();
m=$(this).attr("href");pickLanguage($(this).attr("data"));window.location=m});$("#join").click(function(){showSignUp("TopMenu\t"+g())});$("#upgrade").click(function(){showSubscription("UpgradeButton\t"+g())});$("#resume").click(function(){resumeSubscription("ResumeButton\t"+g())});$(".subscribeOption").click(function(){setSelectedSubscriptionOption($(this));symbolab_log("Registration","BrowsePlan",$(this).attr("id"))});$("input[type=radio][name=subscriptionTypeRadio]").change(function(){setSelectedSubscriptionOption($(this).parent().parent().find(".subscribeOption"))});
$("#noAccount").click(function(){$(".nl-signInContainer>div").addClass("nl-hidden");$(".nl-signUpWithText").removeClass("nl-hidden");symbolab_log("Registration","ShowSignUp",registrationReason)});$("#haveAccount").click(function(){$(".nl-signInContainer>div").addClass("nl-hidden");$(".nl-signInWithText").removeClass("nl-hidden");symbolab_log("Registration","ShowSignIn",registrationReason)});$(".nl-forgotPasswordLink").click(function(){$(".nl-signInContainer>div").addClass("nl-hidden");$(".nl-forgotPassword").removeClass("nl-hidden")});
$(".nl-joinEmail").click(function(){var m=$(this);m.hide();$(".nl-joinEmailForm").show();symbolab_log("Registration","ClickJoinEmail");m.parent().parent().parent().parent().parent().parent().parent().parent().parent().animate({scrollTop:300})});$(".nl-signInButton").click(function(){var m=$(this);h(m)});$(".nl-signIn input").on("keyup",function(m){13==m.keyCode&&(m=$(this).closest(".nl-signIn").find(".nl-signInButton"),m.hasClass("nl-disabled")||h(m))});$(".nl-resetButton").click(function(){var m=
$(this);m.addClass("nl-disabled");symbolab_log("Registration","ResetPasswordClicked");$.ajax({type:"POST",url:"/resetRequest",data:{email:$(".featherlight-content #reset_email").val()},success:function(t){t.success?($(".nl-forgotPassword").hide(),$(".nl-forgotPasswordSuccess").show(),$(".nl-forgotPasswordSuccess .nl-bold").text(t.email)):($(".nl-forgotPassword .nl-error").text(t.alert),$(".nl-forgotPassword .nl-error").show(),m.removeClass("nl-disabled"))},error:function(){m.removeClass("nl-disabled")}})});
var r={};parseQueryParameters(r);"true"!==r.upgrade||subscribed||showSubscription(getLocalStorage().getItem("registrationReason"))});var sy_subscType;
function paypalOnApprove(c,g){c.type=sy_subscType;c.variation=sy_var;c.country=sy_cid;$(".featherlight-content .nl-signInContainer>div").addClass("nl-hidden");$(".featherlight-content .nl-processing").removeClass("nl-hidden");symbolab_log("Registration","SubscribeCompleted-"+sy_subscType,registrationReason);var h=$.Deferred();$.ajax({type:"POST",url:"/paypal/onApprove",beforeSend:authorizeAjaxWithSyToken,data:c,success:function(l){"success subscription"===l.alert?($(".featherlight-content .nl-signInContainer>div").addClass("nl-hidden"),
$(".featherlight-content .nl-thankYouSubsc #subsRenewText").text(i18n("Subscription renews "+sy_subscType)),$(".featherlight-content .nl-thankYouSubsc").removeClass("nl-hidden"),$.featherlight.defaults.afterClose=function(){h.resolve()}):"success payment"===l.alert?($(".featherlight-content .nl-signInContainer>div").addClass("nl-hidden"),$(".featherlight-content .nl-thankYou").removeClass("nl-hidden"),$.featherlight.defaults.afterClose=function(){h.resolve()}):($(".featherlight-content .nl-signInContainer>div").addClass("nl-hidden"),
$(".featherlight-content .nl-failed").removeClass("nl-hidden"),h.reject())},error:function(l,r,m){console.log()}});$.whenAll(h).done(function(){location.reload()});return!0}function getAmount(){return"special"===sy_subscType?12.99:"weekly"===sy_subscType?1.99:"monthly"===sy_subscType?6.99:"annually"===sy_subscType?29.99:0}function paypalOnCancel(c){symbolab_log("Registration","PayPalCancel-"+sy_subscType,registrationReason)}
function paypalOnError(c){symbolab_log("Registration","PayPalError-"+sy_subscType,registrationReason)}function getSubscription(){var c="";$.ajax({type:"GET",url:"/paypal/getSubscription",async:!1,data:{type:sy_subscType,variation:sy_var,country:sy_cid},beforeSend:authorizeAjaxWithSyToken,success:function(g){c=g}});return c}
function getGroupOrder(c){var g="";$.ajax({type:"GET",url:"/paypal/getGroupOrder",async:!1,data:{groupId:c,type:sy_subscType,promo:$(".featherlight-content #promoText").val()},beforeSend:authorizeAjaxWithSyToken,success:function(h){g=h}});return g}
function setSelectedSubscriptionOption(c){$(".featherlight-content .subscribe-button").addClass("nl-disabled");var g=c.data("button");sy_subscType=c.attr("id");$(".featherlight-content #"+g).removeClass("nl-disabled");$(c.parent().find("input")).prop("checked",!0)}function createMatrixLatex(c,g){for(var h="\\begin{pmatrix}",l=0;l<c;l++){for(var r=0;r<g-1;r++)h+="&";l<c-1&&(h+="\\\\")}return h+"\\end{pmatrix}"}
function createCustomMatrix(c){c.empty();c.append("<div class='title'>"+i18n("matrix-select-size")+" <span class='customMatrixDimensions'></span></div>");c.append("<span class='closeCustomMatrix'><div>"+i18n("matrix-close")+"</div></span>");for(var g="<div class='matrixTable' style='padding-right: 0px !important; '><table>",h=0;10>h;h++){g+="<tr>";for(var l=0;10>l;l++)g+="<td class='customMatrixTd'/>";g+="</tr>"}c.append(g+"</table></div>");c.show();$(".customMatrixTd").hover(function(){$(".customMatrixTd").removeClass("on");
for(var r=$(this).parent().children().index($(this))+1,m=$(this).parent().parent().children().index($(this).parent())+1,t=0;t<m;t++)for(var B=$(this).parent().parent().children().eq(t),d=0;d<r;d++)B.children().eq(d).addClass("on");$(".customMatrixDimensions").text(m+"x"+r)});$(".customMatrixTd").click(function(){var r=$(this).parent().children().index($(this))+1,m=$(this).parent().parent().children().index($(this).parent())+1,t=createMatrixLatex(m,r);c.hide();"undefined"!=typeof SYPAD?(SYPAD.inputBox().mathquill("write",
t,m*r),SYPAD.inputBox().focus()):($(".mathquill-editable").mathquill("write",t,m*r),$(".mathquill-editable").focus());return!1});c.find(".closeCustomMatrix").click(function(){c.hide();return!1})}jQuery.fn.selectText=function(){var c=this[0];if(document.body.createTextRange){var g=document.body.createTextRange();g.moveToElementText(c);g.select()}else if(window.getSelection){var h=window.getSelection();g=document.createRange();g.selectNodeContents(c);h.removeAllRanges();h.addRange(g)}};
function pageExpired(c,g){}function browser(){var c=navigator.appName,g=navigator.userAgent,h,l=g.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);l&&null!=(h=g.match(/version\/([\.\d]+)/i))&&(l[2]=h[1]);return l=l?[l[1],l[2]]:[c,navigator.appVersion,"-?"]}
function getProductByUrl(){return 0<=window.location.href.indexOf("/solver")?"Solutions":0<=window.location.href.indexOf("/practice")?"Practice":0<=window.location.href.indexOf("/notebook")?"Notebook":0<=window.location.href.indexOf("/graphing-calculator")?"GraphingCalculator":"Action"}
function lightsOut(){"true"===getInverseCookieValue()?(createInvertCookie("false"),liveToggleInvert(!1),symbolab_log(getProductByUrl(),"LightsOn",null)):(createInvertCookie("true"),liveToggleInvert(!0),symbolab_log(getProductByUrl(),"LightsOut",null))}function ensureCorrectLightsOut(){const c=getInverseCookieValue(),g="undefined"!==typeof isMobile&&isMobile;"true"!==c||g?liveToggleInvert(!1):liveToggleInvert(!0)}
function liveToggleInvert(c){$("html").toggleClass("dark-mode",c);c?$(".nl-lightsOutSwitch").attr("title",i18n("js.Lights on")):$(".nl-lightsOutSwitch").attr("title",i18n("js.Lights out"));graphingSlider(c)}
function graphingSlider(c){c&&0<$("#sliders-button").length?0===$("#sliders-button.hide").length?($("#sliders-button-inverse").attr("class","sliders-button-inverse"),$("#sliders-button-close-inverse").attr("class","sliders-button-inverse hide-important")):($("#sliders-button-inverse").attr("class","sliders-button-inverse hide-important"),$("#sliders-button-close-inverse").attr("class","sliders-button-inverse")):!c&&0<$("#sliders-button-inverse").length&&(0===$("#sliders-button-inverse.hide-important").length?
($("#sliders-button").attr("class","sliders-button"),$("#sliders-button-close").attr("class","sliders-button hide")):($("#sliders-button").attr("class","sliders-button hide"),$("#sliders-button-close").attr("class","sliders-button")))}
function resetUserData(){var c=getTerminalSessionStringCookieValue();c=!c||0<=c.indexOf("Start")?"End Session":"Start Session";createTerminalSessionStringCookie(c);$("#resetTop").text(c);$.whenAll($.ajax({type:"POST",url:"/api/user/clearPractice",beforeSend:authorizeAjaxWithSyToken}),$.ajax({type:"POST",url:"/api/notebook/clearNotes",beforeSend:authorizeAjaxWithSyToken})).then(function(){window.location.href="/"})}
(function(c){var g=[].slice;c.whenAll=function(h){function l(v,G,E){return function(){E!==r&&f++;B.notifyWith(G[v]=this,E[v]=g.call(arguments));if(!--t)B[(f?"reject":"resolve")+"With"](G,E)}}for(var r=1==arguments.length&&c.isArray(h)?h:g.call(arguments),m=r.length,t=m,B=c.Deferred(),d=0,f=0,a=Array(m),n=Array(m),w=Array(m),x;d<m;d++)(x=r[d])&&c.isFunction(x.promise)?x.promise().done(l(d,w,r)).fail(l(d,a,n)):(B.notifyWith(this,x),--t);t||B.resolveWith(w,r);return B.promise()}})(jQuery);
function createCookie(c,g,h,l){if(h){var r=new Date;r.setTime(r.getTime()+864E5*h);h="; expires="+r.toGMTString()}else h="";r="";l||(window.location.href.match(/symbolab\.com/)?r=";domain=.symbolab.com":window.location.href.match(/scibug\.com/)&&(r=";domain=.scibug.com"));document.cookie=encodeURIComponent(c)+"="+encodeURIComponent(g)+h+"; path=/"+r}function readCookieLegacyFallback(c,g){c=readCookie(c);return null==c||""===c?readCookie(g):c}
function readCookie(c){c=encodeURIComponent(c)+"=";for(var g=document.cookie.split(";"),h=0;h<g.length;h++){for(var l=g[h];" "===l.charAt(0);)l=l.substring(1,l.length);if(0===l.indexOf(c))return decodeURIComponent(l.substring(c.length,l.length))}return null}function eraseCookie(c){createCookie(c,"",-1)}function eraseLegacyCookie(c){createCookie(c,"",-1,!0)}function isUserLoggedIn(){return readCookieLegacyFallback("sy2.token","sy.token")?!0:!1}
function createPubTokenCookie(c){createCookie("sy2.pub.token",c,1)}function getInverseCookieValue(){return readCookieLegacyFallback("sy2.invert","invert")}function createInvertCookie(c){allowedCookieGroups("C0003")&&createCookie("sy2.invert",c)}function authorizeAjaxWithSyToken(c){c.setRequestHeader("Authorization","Bearer "+readCookieLegacyFallback("sy2.token","sy.token"))}
function authorizeAjaxWithSyPubToken(c){c.setRequestHeader("Authorization","Bearer "+readCookieLegacyFallback("sy2.pub.token","sy.pub.token"))}function authorizeAjaxWithAppropriateToken(c){var g=readCookieLegacyFallback("sy2.token","sy.token");g&&""!==g.trim()?c.setRequestHeader("Authorization","Bearer "+g):(g=readCookieLegacyFallback("sy2.pub.token","sy.pub.token"),c.setRequestHeader("Authorization","Bearer "+g))}
function ajaxImage(c,g,h){return new Promise(function(l,r){var m=new XMLHttpRequest;m.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var t=(window.URL||window.webkitURL).createObjectURL(this.response),B=this.response;g.on("load",function(){l(B);g.off("load")});g.attr("src",t)}else void 0!==h&&h.hide(),r(this.error)};m.open("GET",c);authorizeAjaxWithSyPubToken(m);m.responseType="blob";m.setRequestHeader("x-requested-with","XMLHttpRequest");m.send()})}
function groupSelectSelected(c){c=c[0];var g;var h=c.parentNode.parentNode.getElementsByTagName("select")[0];var l=c.parentNode.previousSibling;for(g=0;g<h.length;g++)if(h.options[g].innerHTML==c.innerHTML){h.selectedIndex=g;l.innerHTML=c.innerHTML;g=c.parentNode.getElementsByClassName("same-as-selected");for(h=0;h<g.length;h++)g[h].removeAttribute("class");c.setAttribute("class","same-as-selected");break}}
function clearGroupSelects(c){c.find(".select-selected").remove();c.find(".select-items").remove()}function openSelect(c){c=c.find("div.select-selected")[0];c.nextSibling.classList.toggle("select-hide");c.classList.toggle("select-arrow-active")}
function setupGroupSelect(c,g,h,l){function r(w){var x,v=[];var G=document.getElementsByClassName("select-items");var E=document.getElementsByClassName("select-selected");for(x=0;x<E.length;x++)w==E[x]?v.push(x):E[x].classList.remove("select-arrow-active");for(x=0;x<G.length;x++)v.indexOf(x)&&G[x].classList.add("select-hide")}var m;var t=document.getElementsByClassName("group-select");for(m=0;m<t.length;m++)if(void 0===h||$(t[m]).attr("id")===h){var B=t[m].getElementsByTagName("select")[0];var d=
document.createElement("DIV");d.setAttribute("class","select-selected");var f=B.options[B.selectedIndex];void 0!==f&&(d.innerHTML=f.innerHTML);t[m].appendChild(d);var a=document.createElement("DIV");a.setAttribute("class","select-items select-hide");f=0;for(c&&(f=1);f<B.length;f++){var n=document.createElement("DIV");n.innerHTML=B.options[f].innerHTML;n.setAttribute("data-group",B.options[f].value);B.options[f].disabled?($(n).addClass("disabled"),n.addEventListener("click",function(w){w.stopPropagation()})):
n.addEventListener("click",function(w){groupSelectSelected($(this));this.parentNode.previousSibling.click();g()});a.appendChild(n)}t[m].appendChild(a);d.addEventListener("click",function(w){w.stopPropagation();r(this);this.nextSibling.classList.toggle("select-hide");this.classList.toggle("select-arrow-active");this.classList.contains("select-arrow-active")&&l&&l()})}document.addEventListener("click",r)}function repeat(c,g){for(var h="",l=1;l<=g;l++)h+=c;return h}
window.a2a_config={onclick:1,callbacks:[{ready:()=>{$(".a2a_dd span:first-child").click()},share:c=>{symbolab_log("Registration","ClickedFeature",a2a_config.logAction+"\tShare\t"+c.service);return{url:a2a_config.linkurl,title:a2a_config.linkname}}}]};let shareClickEventReady=!1;
function shareClick({url:c,title:g,logAction:h}){a2a_config.linkurl=c;a2a_config.linkname=g;a2a_config.logAction=h;"undefined"==typeof a2a?(c=document.createElement("script"),c.type="text/javascript",c.src="https://static.addtoany.com/menu/page.js",document.getElementsByTagName("head")[0].appendChild(c)):(shareClickEventReady&&symbolab_log("Registration","SeenFeature",a2a_config.logAction+"\tShare"),shareClickEventReady=!0)}
function escapeHtml(c){return c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function unescapeHtml(c){return c.replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("&#039;","'")}
function resumeSubscription(c,g){symbolab_log("Registration","ShowResume",c);alertify.okBtn(i18n("js.Resume")).cancelBtn(i18n("js.cancel")).confirm(i18n("js.resume_question",i18n(sy_pSub)),function(){$(".loading-animation").show();$.ajax({type:"POST",url:"/api/payments/resumeSubscription",data:{reason:"user request"},beforeSend:authorizeAjaxWithSyToken,success:function(h){symbolab_log("Registration","Resumed",c);alertify.okBtn("OK").alert(h.success?i18n("js.Subscription Resumed"):i18n("js.Operation Failed"),
function(){void 0!==g&&(location+=g);location.reload()},function(){void 0!==g&&(location+=g);location.reload()})}})},function(){$("#paypalActivate").removeClass("nl-disabled");$("#paypalUnsubscribeNew").removeClass("nl-disabled")})}function setDefaultSubscription(){setSelectedSubscriptionOption($(".subscribeOption[id=annually]"))}
function getParams(c){var g={},h=c.indexOf("#");if(0<=h){c=c.substring(h+1);for(var l=/([^&=]+)=?([^&]*)/g;h=l.exec(c);)g[decodeURIComponent(h[1])]=decodeURIComponent(h[2])}return g}function clickedSendCHLinkButton(c){const g=$(c);g.addClass("nl-disabled");sendCourseHeroLink().done(function(h){g.removeClass("nl-disabled");h.success&&($("#nl-successfullySignedPopup").hide(),alertify.alert(h.success))}).fail(function(h){g.removeClass("nl-disabled");alertify.alert(h)})}
function loadCourseHeroLink(c,g){if(isUserLoggedIn()){const h=window.location.href.replace(/\?.*/,"");subscribed?"1"===c?isSolverFeatureRequestedCancelUpgradeMessage()||(symbolab_log("Registration","CHBundle-UserLinked"),$("#nl-successfullySignedPopup").show(),$("#popup-avatar").hide(),$("#successfullySignedUp").text(i18n("Subscription active")),$("#UpgradeToProButton").removeClass("hide-important").text(i18n("Manage subscription")).off("click").on("click",function(){window.location="/user#subscription"})):
(symbolab_log("Registration","CHBundle-UserSubscribed"),isSolverFeatureRequestedCancelUpgradeMessage()||($("#nl-successfullySignedPopup").show(),$("#popup-avatar").hide(),$("#successfullySignedUp").text(i18n("You are currently subscribed")),$("#UpgradeToProButton").removeClass("hide-important").text(i18n("Manage subscription")).off("click").on("click",function(){window.location="/user#subscription"}))):"1"===g?(symbolab_log("Registration","CHBundle-UserNotVerified"),$("#popup-avatar").hide(),$("#nl-successfullySignedPopup").show(),
$("#successfullySignedUp").text(i18n("Your subscription is ready to activate")),$("#UpgradeToProButton").removeClass("hide-important").text(i18n("Activate CourseHero Bundle")).off("click").on("click",function(){clickedSendCHLinkButton(this)})):(symbolab_log("Registration","CHBundle-UserNotFound"),$("#success_image").hide(),$("#nl-successfullySignedPopup").show(),$("#successfullySignedUp").text(i18n("Your bundle subscription is registered under a different email")),$("#UpgradeToProButton").removeClass("hide-important").text(i18n("Sign in with Bundle Email")).off("click").on("click",
function(){logUserOutWithoutRedirect().done(function(l){window.location="/registration#flow=signup&reason=CHLink&page=signup&url="+encodeURIComponent(window.location.href)})}));window.history.replaceState({},document.title,h)}else symbolab_log("Registration","CHBundle-NotLoggedIn");$("#cancelPopup").click(function(){$("#nl-successfullySignedPopup").hide()});$("#StartExploringButton").click(function(){$("#nl-successfullySignedPopup").hide()})}
function loadUpgrade(c){$("#moreText").text("");var g=getParams(c);c=getPlanText(g.planInfo);0<c.length&&($("#moreText").css("font-size","17px").html(c),$("#popup-avatar").css("margin-top","30px"),$("#popupButtons").css("margin-top","50px"));g.page&&("1"===g.link&&$("#UpgradeToProButton").text(i18n("Activate CourseHero Bundle")),"upgraded"===g.page?(isSolverFeatureRequestedCancelUpgradeMessage()||$("#nl-successfullySignedPopup").show(),symbolab_log("Registration","SubscribeCompleted-"+g.vendor+"_"+
g.planInfo,g.reason),amp_log("SubscribeCompleted","vendor="+g.vendor+"\tplanInfo="+g.planInfo,!0),isSolverFeatureRequestedCancelUpgradeMessage()||($("#popup-avatar").hide(),"1"===g.link?($("#moreText").text(i18n("Subscription active")),$("#successfullySignedUp").text(i18n("Thank you for signing in")),$("#UpgradeToProButton").text(i18n("Activate CourseHero Bundle"))):"undefined"!==typeof isQbBundle&&"true"===isQbBundle?($("#successfullySignedUp").text(i18n("qb-bundle-thank-you-text")),$("#successfullySignedUp").css("font-size",
"1.5rem")):$("#successfullySignedUp").text(i18n("Thank you for subscribing")))):"signedIn"===g.page&&"1"===g.link?("1"===g.upgradeAttempt?$("#successfullySignedUp").text(i18n("Your subscription bundle awaits")):$("#successfullySignedUp").text(i18n("Thank you for signing in")),$("#nl-successfullySignedPopup").show(),$("#success_image").hide()):"signedUp"===g.page?($("#successfullySignedUp").text(i18n("Thank you for signing up")),$("#nl-successfullySignedPopup").show(),$("#popup-avatar").hide()):"ongoingSubscription"!==
g.page||isSolverFeatureRequestedCancelUpgradeMessage()||($("#successfullySignedUp").text("Thank you for your ongoing subscription"),$("#nl-successfullySignedPopup").show(),$("#popup-avatar").hide()),$("body").off("click","#UpgradeToProButton:not(.nl-disabled)").on("click","#UpgradeToProButton:not(.nl-disabled)",function(){"1"===g.link?clickedSendCHLinkButton(this):showSignUp("Solver")}));$("#cancelPopup").click(function(){$("#nl-successfullySignedPopup").hide()});$("#GoToQuillBotButton").click(function(){window.open("https://quillbot.com",
"_blank");$("#nl-successfullySignedPopup").hide()});$("#StartExploringButton").click(function(){$("#nl-successfullySignedPopup").hide()});window.history.replaceState({},document.title,window.location.pathname+window.location.search)}function getPlanText(c){var g="";"monthly"===c?g=i18n("Subscription renews monthly"):"weekly"===c?g=i18n("Subscription renews weekly"):"annually"===c?g=i18n("Subscription renews annually"):"semi"===c&&(g=i18n("Subscription renews semi-annually"));return g}
function isSolverFeatureRequestedCancelUpgradeMessage(){const c=new URLSearchParams(window.location.search);return 0<=["verify","challenge"].indexOf(c.get("feature"))}
function checkIPad(){const c=new URL(window.location);if("1"!==decodeURIComponent(c.searchParams.get("mobileWebRedirect"))){var g=navigator.userAgent&&-1<navigator.userAgent.toLowerCase().indexOf("macintosh")&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints,h=readCookie("sy.probablyIPad");h&&"1"===h||!g||(createCookie("sy.probablyIPad","1"),c.searchParams.set("mobileWebRedirect","1"),window.location=c.href)}}
function isApplicationRender(){return 0<=(new URL(window.location.href)).protocol.indexOf("file")}
$(document).ready(function(){catchUnhandledExceptionHandler();checkIPad();var c=new URL(window.location);c.searchParams.has("coursehero")?loadCourseHeroLink(c.searchParams.get("linked"),c.searchParams.get("linkavailable")):(c=window.location.hash,(c.includes("page=upgraded")||c.includes("page=signedIn")||c.includes("page=signedUp")||c.includes("page=coursehero")||c.includes("page=ongoingSubscription"))&&loadUpgrade(c));$("#signIn").click(function(g){g.preventDefault();showSignUp("TopMenu")});$("#mobile_logout").click(function(g){g.preventDefault();
window.location="/logout"});c=getLocalStorage().getItem("linkOrigin");getLocalStorage().removeItem("linkOrigin");isApplicationRender()||symbolab_log("General","Enter",window.location.href.replace(window.location.origin,""),document.referrer,c);$("a.contact-us").off("click").on("click",g=>{g.preventDefault();showFeedback()})});
function allowedCookieGroups(c){var g=readCookie("OptanonConsent");return g?(g=g.split("&").map(function(h){return h.split("=")}),g=Object.fromEntries(g).groups.split(",").map(function(h){h=h.split(":");return[h[0],"1"===h[1]]}),!0===Object.fromEntries(g)[c]):!0}
function OptanonWrapper(){window.geofeed=function(g){g=g.country.toString();const h=OneTrust.GetDomainData();h&&h.ConsentModel&&"opt-out"===h.ConsentModel.Name&&("US"===g?$(".cookie-settings-link").text(i18n("Do not sell")):$(".cookie-settings-link").hide())};const c=document.createElement("script");c.setAttribute("src","https://geolocation.onetrust.com/cookieconsentpub/v1/geo/location/geofeed");document.head.appendChild(c);OneTrust.OnConsentChanged(function(g){(g=OneTrust.GetDomainData())&&g.ConsentModel&&
"opt-in"===g.ConsentModel.Name&&window.location.reload()})}function openCookiePreferencesIfRelevant(){var c=OneTrust.GetDomainData();c&&c.ConsentModel&&"opt-in"===c.ConsentModel.Name&&OneTrust.ToggleInfoDisplay()}function handleGoogleOneTap(c){const g="/"===window.location.pathname?"HomePage":"Solver";symbolab_log("Registration","ClickedFeature","OneTap\t"+g+"\tLogin");registrationReason="OneTap\t"+g;handleGoogleToken(c)}
function handleGoogleToken(c){var g=requestUrl,h=function(l){window.location.href===g?void 0!==l&&(g=0>g.indexOf("#")?g+"#":g+"&",window.location=g+l):(void 0!==l&&(g=0>g.indexOf("#")?g+"#":g+"&",g+=l),window.location=g);window.location.reload()};$.ajax({type:"POST",url:"/googleMobileAuth",beforeSend:authorizeAjaxWithSyToken,data:{idRequestToken:c.credential,registrationReason,redirect:requestUrl}}).done(function(l){if(l.success||l.jwt){let r=void 0;l.newlyLinkedToCourseHero&&(r="firstTimeLink=1");
prepareGeometryForReload().then(function(m){g+=encodeURIComponent("#"+m);h(r)},function(){h(r)})}else l=$("<p />",{text:l.alert,"class":"alert alert-error"}),$("#loginOptionsPanel .alert.alert-error").remove(),$("#loginOptionsPanel").append(l)})}async function securedAjax(c){return ajax(c,!0)}async function ajax(c,g){return new Promise((h,l)=>{c.type=c.type??"GET";g&&(c.beforeSend=authorizeAjaxWithSyToken);c.success=function(r){h(r)};c.error=function(r){l(r)};$.ajax(c)})}
function searchInitiatedLog(c,g){g||=(new URLSearchParams(window.location.search)).get("or")??"";symbolab_log("General","SearchInitiated",g,c)}function catchUnhandledExceptionHandler(){const c=window.onerror;window.onerror=async function(g,h,l,r,m){h.includes("symbolab.com")&&await ajax({type:"POST",url:"/jsError",data:{url:window.location.href,message:m.message??g,stacktrace:m.stack}});return c?.(g,h,l,r,m)??!1}}let browserTypeSafe="undefined"!==typeof browserType?browserType:"";
function sendCTAPadEvent(){"undefined"!==typeof isMobile&&isMobile&&"chrome"!==browserTypeSafe||$("#all-pads").hasClass("on")&&!$("#ext-download-btn-button-info").is(":hidden")&&symbolab_log("Registration","SeenFeature","ExtensionCTA\tPad")}
$(document).ready(()=>{const c=$(".ext-button-info"),g=$("#ext-download-btn-button-info"),h=$(".ext-info-icon"),l=$(".ext-tooltip"),r=$(".ext-homepage-video-banner"),m=$("#ext-download-btn-homepage-video-banner"),t="undefined"!==typeof isMobile&&isMobile;c.hide();r.hide();if(t||"chrome"!==browserTypeSafe)r.hide();else{var B=new URLSearchParams(window.location.search);B.has("or")?B.get("or"):window.location.pathname.includes("step-by-step");setTimeout(()=>{t||"chrome"!==browserType?(c.hide(),r.hide()):
document.querySelector("#symbolab-extension-host")||(0<c.length&&(c.addClass("variation"+sy_var),c.show(),sendCTAPadEvent(),h.on("mouseover",function(){l.show()}),h.on("mouseout",function(){l.hide()}),g.off("click").on("click",function(){symbolab_log("Registration","ClickedFeature","ExtensionCTA\tPad");window.open("https://chromewebstore.google.com/detail/mgfcnnpakbfcefgphceolkjldjfpieff","_blank")})),0<r.length&&(r.show(),symbolab_log("Registration","SeenFeature","ExtensionCTA\tHomePage"),m.off("click").on("click",
function(){symbolab_log("Registration","ClickedFeature","ExtensionCTA\tHomePage");window.open("https://chromewebstore.google.com/detail/mgfcnnpakbfcefgphceolkjldjfpieff","_blank")})),window.localStorage.getItem("extShowModal"))},1E3)}});
(function(){function c(){var r={parent:document.body,version:"1.0.11",defaultOkLabel:"OK",okLabel:"OK",defaultCancelLabel:"Cancel",cancelLabel:"Cancel",defaultMaxLogItems:2,maxLogItems:2,promptValue:"",promptPlaceholder:"",closeLogOnClick:!1,closeLogOnClickDefault:!1,delay:5E3,defaultDelay:5E3,logContainerClass:"alertify-logs",logContainerDefaultClass:"alertify-logs",dialogs:{buttons:{holder:"<nav>{{buttons}}</nav>",ok:"<button class='ok' tabindex='1'>{{ok}}</button>",cancel:"<button class='cancel' tabindex='2'>{{cancel}}</button>"},
input:"<input type='text'>",message:"<p class='msg'>{{message}}</p>",log:"<div class='{{class}}'>{{message}}</div>"},defaultDialogs:{buttons:{holder:"<nav>{{buttons}}</nav>",ok:"<button class='ok' tabindex='1'>{{ok}}</button>",cancel:"<button class='cancel' tabindex='2'>{{cancel}}</button>"},input:"<input type='text'>",message:"<p class='msg'>{{message}}</p>",log:"<div class='{{class}}'>{{message}}</div>"},build:function(m){var t=this.dialogs.buttons.ok,B="<div class='dialog'><div>"+this.dialogs.message.replace("{{message}}",
m.message);if("confirm"===m.type||"prompt"===m.type)t=this.dialogs.buttons.cancel+this.dialogs.buttons.ok;"prompt"===m.type&&(B+=this.dialogs.input);return B=(B+this.dialogs.buttons.holder+"</div></div>").replace("{{buttons}}",t).replace("{{ok}}",this.okLabel).replace("{{cancel}}",this.cancelLabel)},setCloseLogOnClick:function(m){this.closeLogOnClick=!!m},close:function(m,t){this.closeLogOnClick&&m.addEventListener("click",function(){g(m)});t=t&&!isNaN(+t)?+t:this.delay;0>t?g(m):0<t&&setTimeout(function(){g(m)},
t)},dialog:function(m,t,B,d){return this.setup({type:t,message:m,onOkay:B,onCancel:d})},log:function(m,t,B){var d=document.querySelectorAll(".alertify-logs > div");if(d){var f=d.length-this.maxLogItems;if(0<=f){var a=0;for(f+=1;a<f;a++)this.close(d[a],-1)}}this.notify(m,t,B)},setLogPosition:function(m){this.logContainerClass="alertify-logs "+m},setupLogContainer:function(){var m=document.querySelector(".alertify-logs"),t=this.logContainerClass;m||(m=document.createElement("div"),m.className=t,this.parent.appendChild(m));
m.className!==t&&(m.className=t);return m},notify:function(m,t,B){var d=this.setupLogContainer(),f=document.createElement("div");f.className=t||"default";f.innerHTML=r.logTemplateMethod?r.logTemplateMethod(m):m;"function"===typeof B&&f.addEventListener("click",B);d.appendChild(f);setTimeout(function(){f.className+=" show"},10);this.close(f,this.delay)},setup:function(m){function t(x){"function"!==typeof x&&(x=function(){});d&&d.addEventListener("click",function(v){if(m.onOkay&&"function"===typeof m.onOkay)if(a)m.onOkay(a.value,
v);else m.onOkay(v);a?x({buttonClicked:"ok",inputValue:a.value,event:v}):x({buttonClicked:"ok",event:v});g(B)});f&&f.addEventListener("click",function(v){if(m.onCancel&&"function"===typeof m.onCancel)m.onCancel(v);x({buttonClicked:"cancel",event:v});g(B)});a&&a.addEventListener("keyup",function(v){13===v.which&&d.click()})}var B=document.createElement("div");B.className="alertify hide";B.innerHTML=this.build(m);var d=B.querySelector(".ok"),f=B.querySelector(".cancel"),a=B.querySelector("input"),n=
B.querySelector("label");a&&("string"===typeof this.promptPlaceholder&&(n?n.textContent=this.promptPlaceholder:a.placeholder=this.promptPlaceholder),"string"===typeof this.promptValue&&(a.value=this.promptValue),"string"===typeof this._inputType&&(a.type=this._inputType));var w;"function"===typeof Promise?w=new Promise(t):t();this.parent.appendChild(B);setTimeout(function(){B.classList.remove("hide");a&&m.type&&"prompt"===m.type?(a.select(),a.focus()):d&&d.focus()},100);return w},okBtn:function(m){this.okLabel=
m;return this},inputType:function(m){this._inputType=m;return this},setDelay:function(m){m=m||0;this.delay=isNaN(m)?this.defaultDelay:parseInt(m,10);return this},cancelBtn:function(m){this.cancelLabel=m;return this},setMaxLogItems:function(m){this.maxLogItems=parseInt(m||this.defaultMaxLogItems)},theme:function(m){switch(m.toLowerCase()){case "bootstrap":this.dialogs.buttons.ok="<button class='ok btn btn-primary' tabindex='1'>{{ok}}</button>";this.dialogs.buttons.cancel="<button class='cancel btn btn-default' tabindex='2'>{{cancel}}</button>";
this.dialogs.input="<input type='text' class='form-control'>";break;case "purecss":this.dialogs.buttons.ok="<button class='ok pure-button' tabindex='1'>{{ok}}</button>";this.dialogs.buttons.cancel="<button class='cancel pure-button' tabindex='2'>{{cancel}}</button>";break;case "mdl":case "material-design-light":this.dialogs.buttons.ok="<button class='ok mdl-button mdl-js-button mdl-js-ripple-effect'  tabindex='1'>{{ok}}</button>";this.dialogs.buttons.cancel="<button class='cancel mdl-button mdl-js-button mdl-js-ripple-effect' tabindex='2'>{{cancel}}</button>";
this.dialogs.input="<div class='mdl-textfield mdl-js-textfield'><input class='mdl-textfield__input'><label class='md-textfield__label'></label></div>";break;case "angular-material":this.dialogs.buttons.ok="<button class='ok md-primary md-button' tabindex='1'>{{ok}}</button>";this.dialogs.buttons.cancel="<button class='cancel md-button' tabindex='2'>{{cancel}}</button>";this.dialogs.input="<div layout='column'><md-input-container md-no-float><input type='text'></md-input-container></div>";break;default:this.dialogs.buttons.ok=
this.defaultDialogs.buttons.ok,this.dialogs.buttons.cancel=this.defaultDialogs.buttons.cancel,this.dialogs.input=this.defaultDialogs.input}},reset:function(){this.parent=document.body;this.theme("default");this.okBtn(this.defaultOkLabel);this.cancelBtn(this.defaultCancelLabel);this.setMaxLogItems();this.promptPlaceholder=this.promptValue="";this.delay=this.defaultDelay;this.setCloseLogOnClick(this.closeLogOnClickDefault);this.setLogPosition("bottom left");this.logTemplateMethod=null},injectCSS:function(){if(!document.querySelector("#alertifyCSS")){var m=
document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css";t.id="alertifyCSS";t.innerHTML="/* style.css */";m.insertBefore(t,m.firstChild)}},removeCSS:function(){var m=document.querySelector("#alertifyCSS");m&&m.parentNode&&m.parentNode.removeChild(m)}};r.injectCSS();return{_$$alertify:r,parent:function(m){r.parent=m},reset:function(){r.reset();return this},alert:function(m,t,B){return r.dialog(m,"alert",t,B)||this},confirm:function(m,t,B){return r.dialog(m,"confirm",
t,B)||this},prompt:function(m,t,B){return r.dialog(m,"prompt",t,B)||this},log:function(m,t){r.log(m,"default",t);return this},theme:function(m){r.theme(m);return this},success:function(m,t){r.log(m,"success",t);return this},error:function(m,t){r.log(m,"error",t);return this},cancelBtn:function(m){r.cancelBtn(m);return this},okBtn:function(m){r.okBtn(m);return this},inputType:function(m){r.inputType(m);return this},delay:function(m){r.setDelay(m);return this},placeholder:function(m){r.promptPlaceholder=
m;return this},defaultValue:function(m){r.promptValue=m;return this},maxLogItems:function(m){r.setMaxLogItems(m);return this},closeLogOnClick:function(m){r.setCloseLogOnClick(!!m);return this},logPosition:function(m){r.setLogPosition(m||"");return this},setLogTemplate:function(m){r.logTemplateMethod=m;return this},clearLogs:function(){r.setupLogContainer().innerHTML="";return this},version:r.version}}var g=function(r){if(r){var m=function(){r&&r.parentNode&&r.parentNode.removeChild(r)};r.classList.remove("show");
r.classList.add("hide");r.addEventListener("transitionend",m);setTimeout(m,500)}};if("undefined"!==typeof module&&module&&module.exports){module.exports=function(){return new c};var h=new c,l;for(l in h)module.exports[l]=h[l]}else"function"===typeof define&&define.amd?define(function(){return new c}):$(document).ready(function(){window.alertify=new c})})();function log_user(c,g){symbolab_log("General",c,g)}
var init_user_page=function(c,g,h,l,r,m,t,B,d,f,a,n){function w(z,C=1E3){return(...K)=>{O||(z(...K),O=!0,setTimeout(()=>{O=!1},C))}}function x(){const z=window.scrollY;A.each((C,K)=>{C=$(K);K=C.attr("href");if(0<$(K).offset().top-z+90)return A.removeClass("selected"),C.addClass("selected"),C[0].scrollIntoView({behavior:"instant",block:"nearest"}),$("#list-selection-indicator").css("top",C[0].offsetTop),!1})}function v(){symbolab_log("Registration","ClickedFeature","UserPage\tUpgradePlan");$.ajax({type:"POST",
url:"/api/payments/upgradeSubscription",beforeSend:authorizeAjaxWithSyToken,data:{reason:"UserPage\tUpgradePlan\tUpgradeButton"}}).done(function(z){dialogify().message(i18n("Successfully Upgraded!")).okButtonHandler(C=>{window.location.reload()}).showOkDialog()}).error(function(z){dialogify().message(z).showOkDialog()}).always(function(){$("#upgradePlan").removeClass("nl-disabled")})}const G="true"==h;getLocalStorage().setItem("settings.printGraph",r["settings.printGraph"]);c&&(this.stripe=Stripe(c,
{locale:m}));this.userSubscribedThrough=t;const E=this;$(".settingsSelect").focus(function(){}).change(function(z){z=$(this).attr("field");let C=$(this).val();"checkbox"===$(this).attr("type")&&(C=this.checked?"yes":"no");getLocalStorage().setItem(z,C);$.ajax({type:"POST",url:"/api/user/updateUserField",beforeSend:authorizeAjaxWithSyToken,data:{field:z,value:C}})});c=$("body");c.off("click","#UpgradeToProButtonFromUserPage:not(.nl-disabled)").on("click","#UpgradeToProButtonFromUserPage:not(.nl-disabled)",
function(){const z=$(this);z.addClass("nl-disabled");sendCourseHeroLink().done(function(C){C.success?dialogify().message(C.success).showOkDialog():z.removeClass("nl-disabled")}).fail(function(C){dialogify().message(C).showOkDialog();z.removeClass("nl-disabled")})});const A=$(".selection-list > div > a");let O=!1,U=void 0;c[0].onscroll=()=>{if($("#details").offset()){var z=$("#details").offset().top,C=U-z;isNaN(C)||.1<Math.abs(C)?w(()=>{x()},300)():x();U=z}};x();$("#paypalUnsubscribeNew").click(function(){const z=
$(this);z.addClass("nl-disabled");$("#paypalPause").addClass("nl-disabled");$("#paypalActivate").addClass("nl-disabled");const C=$("#paypalActivate").is(":visible");if($("#paypalUnsubscribeNew").hasClass("mobile")||C||"en"!==m){symbolab_log("Registration","SeenFeature","UserPage\tUnsubscribe"+(C?"\tAlreadyPaused":""));const K=C?i18n("js.Your subscription is paused, cancel"):i18n("js.cancel_question");dialogify().message(K).okButtonHandler(Q=>{Q();unsubscribe(G,"UserPage\tUnsubscribe"+(C?"\tAlreadyPaused":
""))}).cancelButtonHandler(Q=>{Q();$("#paypalPause").removeClass("nl-disabled");$("#paypalActivate").removeClass("nl-disabled");z.removeClass("nl-disabled")}).showYesNoDialog()}else window.location="/unsubscribe"});$("#paypalPause").click(function(){const z=$(this),C=$("#paypalUnsubscribeNew");C.addClass("nl-disabled");z.addClass("nl-disabled");symbolab_log("Registration","SeenFeature","UserPage\tPause\tPauseButton");(new PauseDialog(B,d,E.userSubscribedThrough,"UserPage\tPause\tPauseButton")).showPauseDialog(z,
C)});c.on("click","#upgradePlan:not('.nl-disabled')",function(){symbolab_log("Registration","SeenFeature","UserPage\tUpgradePlan");$(this).addClass("nl-disabled");var z=Math.ceil(n/a);z=i18n("Pay for months",z,12-z);const C=i18n("Your subscription will be upgraded",n),K=i18n("First year prorating");z="<div class='special-offer'>"+z+"</div> <br /> "+C+"<br /><div class='prorating-text'>"+K+"</div>";dialogify().message(z).okButtonText(i18n("Confirm payment")).okButtonHandler(Q=>{v();Q()}).cancelButtonHandler(Q=>
{$("#upgradePlan").removeClass("nl-disabled");Q()}).showOkCancelDialog()});$(".sendVerificationEmail").click(function(){$(".loading-animation").show();const z=$("#userEmail").val();$.ajax({type:"POST",url:"/verifyEmailRequestPost",data:{origin:window.location.origin,email:z,sourceURL:window.location.href},beforeSend:authorizeAjaxWithSyToken,success:function(C){C.success&&dialogify().message(C.success).showOkDialog();$(".loading-animation").hide()},error:function(){$(".loading-animation").hide();dialogify().message("Error sending verification email").showOkDialog()}})});
$("#stripePortal").click(function(){var z=$(this).attr("data");$(".loading-animation").show();$.ajax({type:"POST",url:"/stripePortal",data:{sub_id:z},beforeSend:authorizeAjaxWithSyToken,success:function(C){window.location.href=JSON.parse(C).data}})});$("#update_billingemail").click(function(){$(".loading-animation").show();var z=$("#billingemail").val();$.ajax({type:"POST",url:"/updateOrRequestVerifyPost",data:{email:z,sourceURL:window.location.href},beforeSend:authorizeAjaxWithSyToken,success:function(C){C.success&&
dialogify().message(C.success).showOkDialog();$(".loading-animation").hide()},error:function(){$(".loading-animation").hide();dialogify().message("Error updating billing email").showOkDialog()}})});$("#editBillingInfo").click(function(){$.ajax({type:"POST",url:"/api/payments/prepareCardUpdate",beforeSend:authorizeAjaxWithSyToken,success:function(z){z=JSON.parse(z).clientSecret;var C=stripe.elements({appearance:{theme:"stripe"},clientSecret:z});z=C.create("payment",{terms:{card:"never"}});z.on("ready",
function(K){$("#edit_billing_div").hide();$("#billing_update_target").show()});z.mount("#payment-element");$("#payment-form").on("submit",async K=>{K.preventDefault();({error:K}=await stripe.confirmSetup({elements:C,confirmParams:{payment_method_data:{billing_details:{name:$("#card-holder-name").val(),email:$("#card-holder-email").val()}},return_url:window.location.protocol+"//"+window.location.host+"/cardUpdated"}}));K&&(document.querySelector("#error-message").textContent=K.message)})},error:function(){}})});
$("#cancelUpdateBillingInfo").click(function(){$("#billing_update_target").hide();$("#edit_billing_div").show()});$("#paypalActivate").click(function(){$(this).addClass("nl-disabled");$("#paypalUnsubscribeNew").addClass("nl-disabled");resumeSubscription("UserPage")});$("#paypalSubscribeNew").click(function(){G?dialogify().message(i18n("js.Your subscription is active, extend",$("input#throughInput").val())).okButtonHandler(z=>{z();$("#special").attr("id","extend");showSubscription("UserPage\tSubscribeButton");
setSelectedSubscriptionOption($(".subscribeOption:visible").eq(0));$(".subscribeOption:visible").eq(1).addClass("nl-disabled");$(".subscribeOption:visible").eq(2).addClass("nl-disabled");$(".subscribeOption:visible").eq(3).addClass("nl-disabled")}).showOkCancelDialog():showSubscription("UserPage\tSubscribeButton")});$(".updateUser").click(function(){$("#profileUpdateSuccess").hide();$("#profileUpdateFail").hide();var z=new Promise(function(K,Q){$.ajax({type:"POST",url:"/api/user/updateUserField",
beforeSend:authorizeAjaxWithSyToken,data:{field:"firstName",value:$("#firstName").val()},success:function(R){R&&R.success?K():Q()},error:function(){Q()}})}),C=new Promise(function(K,Q){$.ajax({type:"POST",url:"/api/user/updateUserField",beforeSend:authorizeAjaxWithSyToken,data:{field:"lastName",value:$("#lastName").val()},success:function(R){R&&R.success?K():Q()},error:function(){Q()}})});Promise.all([z,C]).then(function(){$("#profileUpdateSuccess").show()},function(){$("#profileUpdateFail").show()})});
$("#disableAccountButton").click(function(){if(G&&"true"===l||"true"===f){let z=i18n("js.Your subscription is active, unsubscribe before deleting your account");"true"===f&&(z=i18n("js.Your subscription is paused, unsubscribe before deleting your account"));dialogify().message(z).okButtonText("Unsubscribe").okButtonHandler(C=>{C();$("#paypalUnsubscribeNew").click()}).showOkCancelDialog()}else dialogify().message(i18n("js.Your practice history and notes will be deleted!")+"<br>"+i18n("js.Are you sure you want to delete your account?")).okButtonHandler(z=>
{$.ajax({type:"POST",url:"/api/user/disableAccount",beforeSend:authorizeAjaxWithSyToken,success:function(C){z();C&&C.success&&logout()},error:function(C){z()}})}).showOkCancelDialog()});$("#clearPracticeButton").click(function(){dialogify().message(i18n("js.Are you sure you want to clear your practice data?")).okButtonHandler(z=>{$.ajax({type:"POST",url:"/api/user/clearPractice",beforeSend:authorizeAjaxWithSyToken,success:function(C){z();C&&C.success&&dialogify().message(i18n("Practice Data cleared")).showOkDialog()},
error:function(C){z()}})}).showOkCancelDialog()});$("#clearWebNotesButton").click(function(){dialogify().message(i18n("js.Are you sure you want to clear your notebook?")).okButtonHandler(z=>{$.ajax({type:"POST",url:"/api/notebook/clearNotes",beforeSend:authorizeAjaxWithSyToken,data:{isMobile:!1},success:function(C){C&&C.success&&(dialogify().message(i18n("Notebook cleared")).showOkDialog(),z())},error:function(C){z()}})}).showOkCancelDialog()});$("#resetPasswordButton").click(function(){$("#resetPasswordFail").hide();
$("#resetPasswordSuccess").hide();$.ajax({type:"POST",url:"/api/user/changePassword",beforeSend:authorizeAjaxWithSyToken,data:{currentPassword:$("#curPass").val(),password:$("#newPass").val(),password2:$("#newPass2").val()},success:function(z){z&&z.alert?($("#resetPasswordFail").text(z.alert),$("#resetPasswordFail").show()):($("#resetPasswordSuccess").show(),$("#curPass").val(""),$("#newPass").val(""),$("#newPass2").val(""))}})});$(".addEmail").click(function(){$("#emailFail").hide();$("#emailSuccess").hide();
dialogify().message().passwordPrompt(i18n("js.Please enter password")).okButtonHandler(z=>{const C=$("dialog.dialogify.standard .dialog-content .prompt input").val();$.ajax({type:"POST",url:"/api/user/updateEmail",beforeSend:authorizeAjaxWithSyToken,data:{newEmail:$("#email").val(),password:C},success:function(K){z();K&&K.alert?($("#emailFail").text(K.alert),$("#emailFail").show()):$("#emailSuccess").show()},error:function(K){$("#emailFail").show();z()}})}).showOkCancelDialog()});$(".edit-avatar").click(function(){log_user("AvatarOpenEdit");
$.featherlight(".change-avatar",{variant:"edit-avatar-popup",beforeClose:function(){!0===$(".featherlight.edit-avatar-popup").data("wasCanceled")&&log_user("AvatarCancelEdit")}});$(".upload-error").hide();$(".featherlight.edit-avatar-popup").data("wasCanceled",!0)});$(".stock-list > div").click(function(){$(".upload-error").hide();$(".stock-list > div").removeClass("active");var z=$(this);z.addClass("active");z=5-z.index()-1;$(".current-avatar-container .stock-avatar use").attr("href","#stock-avatar-"+
z);$(".featherlight .current-avatar .stock-avatar-container").removeClass("no-image");$(".featherlight .current-avatar img").addClass("no-image");log_user("AvatarSelectStock",z)});$("#upload-avatar-input").change(function(z){$(".upload-error").hide();loadImageFile(z.target.files[0])});$(".update-avatar-button").click(function(){$(".avatar-success").hide();var z=$(".featherlight .current-avatar img"),C=z.attr("src"),K=5-$(".stock-list > div.active").index()-1;z.hasClass("no-image")?$.ajax({type:"POST",
url:"/api/user/updateUserAvatar",beforeSend:authorizeAjaxWithSyToken,data:{selectedStock:K},success:function(){$(".avatar-success").show();$(".featherlight.edit-avatar-popup").data("wasCanceled",!1);$.featherlight.close();setClientSideAvatarStock(K)},error:function(){$(".upload-error").show().text(i18n("js.Avatar stock fail"))}}):$.ajax({type:"POST",url:"/api/user/updateUserAvatar",beforeSend:authorizeAjaxWithSyToken,data:{base64:C},success:function(){$(".avatar-success").show();$(".featherlight.edit-avatar-popup").data("wasCanceled",
!1);$.featherlight.close();setClientSideAvatarImage(C)},error:function(){$(".upload-error").show().text(i18n("js.Avatar upload fail"))}})})};function setClientSideAvatarImage(c){$(".user-avatar-panel img, .current-avatar img, #userName img").removeClass("no-image");$(".stock-avatar-container").addClass("no-image");$(".user-avatar-panel img, .current-avatar img, #userName img").attr("src",c);$(".stock-list > div").removeClass("active")}
function setClientSideAvatarStock(c){$(".user-avatar-panel img, .current-avatar img, #userName img").addClass("no-image");$(".stock-avatar-container").removeClass("no-image");$(".stock-avatar use").attr("href","#stock-avatar-"+c);$(".stock-list > div").removeClass("active");$(".stock-list > div:nth-child("+(5-c)+")").addClass("active")}
function loadImageFile(c){if(c.type.match(/image.*/))if(1024E3<c.size)$(".upload-error").show().text(i18n("js.Bad upload")),$("#upload-avatar-input").val(""),log_user("AvatarImageTooBigAttempt");else{var g=new FileReader;g.onload=function(h){var l=new Image;l.onload=function(r){r=document.createElement("canvas");var m=l.width,t=l.height;if(m>t){var B=0;var d=(m-t)/2;m-=2*d}else B=(t-m)/2,d=0,t-=2*B;r.width=288;r.height=288;r.getContext("2d").drawImage(l,d,B,m,t,0,0,288,288);r=r.toDataURL("image/jpeg",
.8);d=$(".featherlight .current-avatar img");d.removeClass("no-image");d.attr("src",r);$(".featherlight .stock-list > div").removeClass("active");$(".featherlight .current-avatar .stock-avatar-container").addClass("no-image");log_user("AvatarImageUploaded")};l.src=h.target.result};g.readAsDataURL(c);$("#upload-avatar-input").val("")}else $(".upload-error").show().text(i18n("js.Bad upload")),$("#upload-avatar-input").val(""),log_user("AvatarWrongFileTypeAttempt")}
function unsubscribe(c,g){$(".loading-animation").show();$.ajax({type:"POST",url:"/api/payments/cancelSubscription",beforeSend:authorizeAjaxWithSyToken,success:function(h){symbolab_log("Registration","ClickedFeature",g);dialogify().message(c?i18n("js.Your subscription is active",$("input#throughInput").val()):i18n("js.Subscription canceled")).okButtonHandler(l=>{l();location.reload()}).showOkDialog()}})}"use strict";
(function(){function c(){const h={title:null,headerTemplate:null,template:"<div>DIALOG</div>",headerTemplateId:null,templateId:null,dialogId:null,className:null,standard:!1,parent:null,dialogCloseHandler:()=>!0,attachHandler:null,dialogElement:null,message:"",okButtonText:i18n("OK"),cancelButtonText:i18n("Cancel"),yesButtonText:i18n("Yes"),noButtonText:i18n("No"),image:void 0,passwordPrompt:void 0,okButtonHandler:()=>{h.close()},cancelButtonHandler:()=>{h.close()},yesButtonHandler:()=>{h.close()},
noButtonHandler:()=>{h.close()},build:function(){const l=$("<header>").append('\n                    <div class="header-content-container"></div>                    \n                    <div class="controls">\n                        <button class="close">\n                            <svg><use href="#x-close-img"></use></svg>\n                        </button>\n                    </div>\n                ');this.title?l.find("div.header-content-container").append(this.title):this.headerTemplate&&
l.find("div.header-content-container").append(this.headerTemplate);const r=$("<div>",{"class":"dialog-main"});r.append(l);r.append(this.template);return r},setup:function(){const l=["dialogify",this.className].filter(r=>r).join(" ");this.dialogElement=$("<dialog>",{class:l});(this.templateId||this.dialogId)&&this.dialogElement.attr("id",this.dialogId??this.templateId);this.dialogElement.append(this.build());(this.parent??document.body).appendChild(this.dialogElement[0]);this.dialogElement[0].showModal();
this.attachHandler?.(this);this.dialogElement[0].addEventListener("cancel",r=>{r.preventDefault();this.close()});this.dialogElement.find("header .controls button.close").on("click",()=>{this.cancelButtonHandler(h.close)});this.standard&&(this.dialogElement.find(".dialog-content .buttons-panel button.ok").on("click",()=>{this.okButtonHandler(h.close)}),this.dialogElement.find(".dialog-content .buttons-panel button.cancel").on("click",()=>{this.cancelButtonHandler(h.close)}),this.dialogElement.find(".dialog-content .buttons-panel button.yes").on("click",
()=>{this.yesButtonHandler(h.close)}),this.dialogElement.find(".dialog-content .buttons-panel button.no").on("click",()=>{this.noButtonHandler(h.close)}))},close:function(){h.dialogCloseHandler()&&(h.dialogElement[0].close(),h.dialogElement[0].remove())},standardTemplate:function(l){this.className=(this.className??"")+" standard";this.standard=!0;var r=h.image?`
                            <div class="image">
                                <svg>
                                    <use href="${h.image}"></use>
                                </svg>
                            </div>`:"";var m=h.message?`
                        <div class="message">
                            <div>${h.message}</div>
                        </div>`:"";var t=h.passwordPrompt?`
                            <div class="prompt">
                                <label for="#dialogify-prompt">${h.passwordPrompt}</label>
                                <input id="dialogify-prompt" type="password">
                            </div>`:"";return`
                    <div class="dialog-content">
                        ${r}
                        ${m}
                        ${t}
                        <div class="buttons-panel">
                            ${(()=>{switch(l){case "ok":return`
                            <div class="one-button">
                                <button class="ok">${h.okButtonText}</button>
                            </div>
                        `;case "ok-cancel":return`
                            <div class="two-buttons">
                                <button class="ok primary">${h.okButtonText}</button>
                                <button class="cancel">${h.cancelButtonText}</button>                        
                            </div>                        
                        `;case "yes-no":return`
                            <div class="two-buttons">
                                <button class="ok primary">${h.yesButtonText}</button>
                                <button class="cancel">${h.noButtonText}</button>                        
                            </div>                        
                        `;case "yes-no-cancel":return`
                            <div class="three-buttons">
                                <button class="yes primary">${h.yesButtonText}</button>
                                <button class="no">${h.noButtonText}</button>                        
                                <button class="cancel">${h.cancelButtonText}</button>
                            </div>                        
                        `}})()}
                        </div>
                    </div>`}};return h}function g(){const h=c();return{parent:function(l){h.parent=l;return this},title:function(l){h.title=l;return this},className:function(l){h.className=l;return this},headerTemplate:function(l){h.headerTemplate=l;return this},headerTemplateId:function(l){h.headerTemplateId=l;h.headerTemplate=document.querySelector(`template#${l}`).content.cloneNode(!0);return this},template:function(l){h.template=l;return this},templateId:function(l){h.templateId=l;h.template=
document.querySelector(`template#${l}`).content.cloneNode(!0);return this},dialogId:function(l){h.dialogId=l;return this},show:function(){h.setup();return this},close:function(){h.close();return this},dialogCloseHandler:function(l){h.dialogCloseHandler=l;return this},attachHandler:function(l){h.attachHandler=l;return this},showOkDialog:function(){h.template=h.standardTemplate("ok");return this.show()},showOkCancelDialog:function(){h.template=h.standardTemplate("ok-cancel");return this.show()},showYesNoDialog:function(){h.template=
h.standardTemplate("yes-no");return this.show()},showYesNoCancelDialog:function(){h.template=h.standardTemplate("yes-no-cancel");return this.show()},message:function(l){h.message=l;return this},okButtonText:function(l){h.okButtonText=l;return this},cancelButtonText:function(l){h.cancelButtonText=l;return this},yesButtonText:function(l){h.yesButtonText=l;return this},noButtonText:function(l){h.noButtonText=l;return this},okButtonHandler:function(l){h.okButtonHandler=l;return this},cancelButtonHandler:function(l){h.cancelButtonHandler=
l;return this},yesButtonHandler:function(l){h.yesButtonHandler=l;return this},noButtonHandler:function(l){h.noButtonHandler=l;return this},image:function(l){h.image=l;return this},passwordPrompt:function(l){h.passwordPrompt=l;return this}}}$(document).ready(function(){window.dialogify=()=>new g})})();
